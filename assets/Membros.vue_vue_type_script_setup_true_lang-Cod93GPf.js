import{s as R,B as i,P as T,o as n,c as _,b as e,w as t,a as s,u,f as A,j as v,d as c,aP as F,F as M,q as H,C as O,t as P,b8 as w,b9 as E,a3 as D,D as G,H as K}from"./index-B488NoJ8.js";import"./sweetalert2.all-B4zcRVGv.js";import{V as J}from"./VDialog-BZZG064Z.js";import{V as x,a as Q,b as W,c as L}from"./VCard-CVQS5OrG.js";import{V as r}from"./VBtn-CkAG_BNA.js";import{V as X}from"./VForm-zlhoeY2u.js";import{a as N,V}from"./VRow-DQSaPiAw.js";import{V as Y}from"./VAutocomplete-DJFKAKHT.js";import{V as Z}from"./VAlert-Dr3YPYmQ.js";import{V as ee}from"./VSpacer-Dx63Y8EY.js";import{V as z}from"./VDivider-udgox8UB.js";import{V as g}from"./VAvatar-D7EAcEBf.js";import{V as te}from"./VProgressCircular-Bq-4ide7.js";const se=s("span",{class:"text-h5"},"Adicionar membro a Célula",-1),ae={class:"d-flex"},le={key:0,class:"ml-5"},oe={key:0,class:"pl-3 pt-3"},ie={class:"pa-4 d-flex justify-end gap-2"},re=s("h4",{class:"text-h4"},"Membros da Célula",-1),de={class:"d-sm-flex justify-space-between mt-4 mb-2"},ne=s("div",{class:"text-subtitle-1 text-grey100 text-13 pr-5"}," Adicionar pessoas da célula ",-1),ue={key:0},ce={class:"d-flex justify-space-between my-4"},me={class:"d-flex"},pe={class:"text-h6 mb-1"},_e={class:"text-subtitle-1 text-grey100"},fe={class:"text-right"},ve=s("h5",{class:"text-h5 mt-4"},"Devices",-1),ge=s("div",{class:"text-subtitle-1 mt-3 text-grey100 text-10"}," Lorem ipsum dolor sit amet consectetur adipisicing elit Rem. ",-1),he={class:"mt-sm-8 mt-5"},xe={class:"d-flex align-center my-4"},Ve=s("div",{class:"ml-3 pr-3"},[s("h6",{class:"text-h6 mb-1"},"iPhone 14"),s("h5",{class:"text-subtitle-1 text-grey100"},"London UK, Oct 23 at 1:15 AM")],-1),ye={class:"d-flex align-center my-4"},be=s("div",{class:"ml-3 pr-3"},[s("h6",{class:"text-h6 mb-1"},"Macbook Air"),s("h5",{class:"text-subtitle-1 text-grey100"},"Gujarat India, Oct 24 at 3:15 AM")],-1),Se=R({__name:"Membros",setup(Ce){const p=G();K();const h=i(""),j=T({get:()=>p.state.grupos.membros,set:o=>p.state.grupos.membros=o}),q=i(!1),I=i(!1),y=i(!1),f=i(!1);function B(o){return o.imagem_perfil?'width: 55px; height: 55px; border-radius: 5px; background-size: contain; background-image: url("https://api.tzon.vps-kinghost.net/files/'+o.imagem_perfil+'")':"display: none"}var d=i([]),d=i([]);const m=i(!1),b=i("");var d=i([]);const S=o=>{const l=o.target;b.value=l.value,d.value=[],m.value=!0,p.dispatch("pessoas/getListaPessoa",b.value).then(a=>{const C=a.data.listaPessoas.map(k=>({nr_sequencial:k.nr_sequencial,nome_pessoa:k.nome_pessoa}));console.log(d),d.value=C,m.value=!1}).catch(()=>{m.value=!1}),m.value=!1};function U(o){p.dispatch("grupos/deleteMembroCelula",o.nr_seq_pessoa).then(l=>{p.state.grupos.membros=l.data})}function $(){p.dispatch("grupos/inserirMembroCelula",h.value).then(o=>{o.data}).catch(o=>{y.value=!0,setTimeout(()=>{y.value=!1},2500)}),h.value="",b.value="",d.value=[],f.value=!1}return(o,l)=>(n(),_(M,null,[e(V,{cols:"12",lg:"8",md:"6",class:"text-right"},{default:t(()=>[e(J,{modelValue:f.value,"onUpdate:modelValue":l[5]||(l[5]=a=>f.value=a),"max-width":"500"},{default:t(()=>[e(x,null,{default:t(()=>[e(Q,{class:"px-4 pt-6 justify-space-between d-flex align-center"},{default:t(()=>[se,e(r,{onClick:l[0]||(l[0]=a=>q.value=!1),ripple:!1,density:"compact",icon:"mdi-close"})]),_:1}),e(W,{class:"px-4"},{default:t(()=>[e(X,{class:"dialog_form",ref:"form",modelValue:I.value,"onUpdate:modelValue":l[2]||(l[2]=a=>I.value=a),"lazy-validation":""},{default:t(()=>[e(N,null,{default:t(()=>[e(V,{cols:"12",md:"12"},{default:t(()=>[s("div",ae,[e(Y,{modelValue:h.value,"onUpdate:modelValue":l[1]||(l[1]=a=>h.value=a),label:"Buscar Nome da Pessoa",items:u(d),color:"primary",variant:"outlined","hide-details":"",onInput:S,"item-title":"nome_pessoa","item-value":"nr_sequencial",loading:m.value},{"append-item":t(()=>[m.value?(n(),A(te,{key:0,class:"ml-5",indeterminate:"",color:"primary"})):v("",!0)]),"no-data":t(()=>[!m.value&&u(d).length===0?(n(),_("div",le,"Nenhum dado encontrado")):v("",!0)]),_:1},8,["modelValue","items","loading"])]),y.value?(n(),_("div",oe,[e(Z,{class:"mb-3",color:"warning",variant:"tonal"},{default:t(()=>[c("Usuário já cadastrado em uma célula")]),_:1})])):v("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),s("div",ie,[e(ee),e(r,{color:"error",onClick:l[3]||(l[3]=a=>f.value=!1),class:"px-3 rounded-pill"},{default:t(()=>[c("Cancelar")]),_:1}),e(r,{color:"primary",class:"px-3 rounded-pill",onClick:l[4]||(l[4]=a=>$())},{default:t(()=>[c("Inserir")]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(x,{elevation:"10"},{default:t(()=>[e(N,{class:"ma-sm-n2 ma-n1"},{default:t(()=>[e(V,{cols:"12",md:"12"},{default:t(()=>[e(x,{elevation:"10"},{default:t(()=>[e(L,null,{default:t(()=>[re,s("div",de,[ne,e(r,{color:"primary",class:"mt-sm-0 mt-3",flat:"",onClick:l[6]||(l[6]=a=>f.value=!0)},{default:t(()=>[e(u(F),{class:"mr-1"}),c(" Adicionar Pessoa ")]),_:1})]),e(z),(n(!0),_(M,null,H(j.value,(a,C)=>(n(),_("div",{key:C},[a.nome_pessoa?(n(),_("div",ue,[s("div",ce,[s("div",me,[s("div",{class:"",style:O(B(a))},null,4),s("div",null,[s("h6",pe,P(a.nome_pessoa),1),s("h5",_e,P(a.dt_tipo_membro),1)])]),s("div",fe,[a.dt_tipo_membro!=="Líder"&&a.dt_tipo_membro!=="Vice Líder"&&a.dt_tipo_membro!=="Anfitrião"?(n(),A(r,{key:0,class:"bg-lighterror text-error",flat:"",onClick:k=>U(a)},{default:t(()=>[c(" Remover ")]),_:2},1032,["onClick"])):v("",!0),e(r,{flat:"",class:"bg-lightprimary text-primary ml-3",to:"/pessoas/pessoa-perfil/"+a.nr_seq_pessoa},{default:t(()=>[c(" Perfil ")]),_:2},1032,["to"])])])])):v("",!0),e(z)]))),128))]),_:1})]),_:1})]),_:1}),e(V,{class:"d-none",cols:"12",md:"4"},{default:t(()=>[e(x,{elevation:"10"},{default:t(()=>[e(L,null,{default:t(()=>[e(g,{size:"48",class:"",rounded:"md",color:"lightprimary"},{default:t(()=>[e(u(w),{class:"text-primary",size:"25"})]),_:1}),ve,ge,e(r,{color:"primary",class:"mt-4",flat:""},{default:t(()=>[c("Sign out from all devices")]),_:1}),s("div",he,[s("div",xe,[e(g,{size:"30",rounded:"md",color:"surface"},{default:t(()=>[e(u(E),{size:"25"})]),_:1}),Ve,e(r,{size:"30",icon:"",variant:"flat",class:"lightprimary ml-auto"},{default:t(()=>[e(g,{size:"20"},{default:t(()=>[e(u(D))]),_:1})]),_:1})]),e(z),s("div",ye,[e(g,{size:"30",rounded:"md",color:"surface"},{default:t(()=>[e(u(w),{size:"25"})]),_:1}),be,e(r,{size:"30",icon:"",variant:"flat",class:"lightprimary ml-auto"},{default:t(()=>[e(g,{size:"20"},{default:t(()=>[e(u(D))]),_:1})]),_:1})])]),e(r,{class:"bg-lightprimary text-primary mt-5",block:"",flat:""},{default:t(()=>[c("Need Help?")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64))}});export{Se as _};
