import{s as g,K as p,I as v,o as f,c as w,b as e,w as t,a as i,f as k,d,j as y,H as b,r as S,a7 as C,dg as I}from"./index-cRPI3wEJ.js";import{S as B}from"./sweetalert2.all-BCDZyxlf.js";import{L as z}from"./Logo-DGX133jN.js";import{V as L}from"./VRow-DS6oBrC0.js";import{V as c}from"./VCol-CE6y_DCE.js";import{a as N,b as R}from"./VCard-CCH6_4gD.js";import{V as T}from"./VForm-Dvs8vYKY.js";import{V as h}from"./VTextField-B7KGQAiB.js";import{V as j}from"./VAlert-BzNj4Lr5.js";import{V as _}from"./VBtn-DHUkFrkX.js";import{V as F}from"./VContainer-3DYhe8xr.js";import"./customizer-DLllG9EM.js";import"./useRender-B1mk8FFa.js";import"./router-gcBsB3QI.js";import"./VAvatar-BrKyI069.js";import"./transition-RcxX_Iab.js";import"./VInput-YMOCMVjl.js";import"./index-KAjHJjzk.js";import"./forwardRefs-D3j0TLhE.js";import"./VField-cAbOXT1F.js";import"./VLabel-DwSv0A7X.js";import"./group-B1MPobTb.js";import"./VProgressCircular-CwUtxLct.js";import"./resizeObserver-B_-UoLYq.js";const A={class:"authentication"},P={class:"boxed-auth-wrap"},U={class:"d-flex justify-center my-5"},E=i("p",{class:"text-subtitle-1 text-grey100 text-center text-10"}," Por favor, entre com sua nova senha para seu usuário ",-1),H=i("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Senha:",-1),K=i("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Confirmar senha:",-1),fe=g({__name:"BoxedForgotPassword",setup(q){const u=C(),l=b();I();const n=p({get:()=>l.state.pessoas.pessoa.senha,set:s=>l.state.pessoas.pessoa.senha=s}),m=v(""),x=p(()=>n.value==m.value);function V(){const s=u.params.token,o=u.params.email,a=n.value;if(console.log(s),console.log(o),console.log(a),s.length!==60)return"Token deve ter exatamente 60 caracteres.";const r={email:o,novaSenha:a,token:s};l.dispatch("user/redefinirSenha",r).then(D=>{B.fire({title:"Sucesso!",text:"Senha redefinida!",icon:"success",timer:3e3}),setTimeout(()=>{window.location.href="/auth/login"},3e3)})}return(s,o)=>{const a=S("LockIcon");return f(),w("div",A,[e(F,{fluid:"",class:"pa-3"},{default:t(()=>[e(L,{class:"h-100vh d-flex justify-center align-center"},{default:t(()=>[e(c,{cols:"12",lg:"4",xl:"5",class:"d-flex align-center"},{default:t(()=>[i("div",P,[e(N,{elevation:"10",class:"px-sm-1 px-0 mx-auto index-2","max-width":"450"},{default:t(()=>[e(R,{class:"pa-sm-8"},{default:t(()=>[i("div",U,[e(z)]),E,e(T,{ref:"form","lazy-validation":"",class:"mt-sm-13 mt-8"},{default:t(()=>[e(c,{cols:"12",sm:"12",style:{"margin-top":"-20px"}},{default:t(()=>[H,e(h,{type:"password",placeholder:"Insira uma senha",variant:"outlined","hide-details":"",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=r=>n.value=r)},{"append-inner":t(()=>[e(a,{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis"})]),_:1},8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"12"},{default:t(()=>[K,e(h,{type:"password",placeholder:"Insira seu nome",variant:"outlined","hide-details":"",modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=r=>m.value=r)},{"append-inner":t(()=>[e(a,{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis"})]),_:1},8,["modelValue"]),x.value?y("",!0):(f(),k(j,{key:0,type:"error",dense:"",text:""},{default:t(()=>[d(" As senhas não são iguais. ")]),_:1}))]),_:1})]),_:1},512),e(_,{size:"large",color:"primary",block:"",submit:"",rounded:"pill",onClick:V},{default:t(()=>[d("Redefinir Senha")]),_:1}),e(_,{size:"large",color:"lightprimary",to:"/auth/login",block:"",class:"mt-5 text-primary",rounded:"pill"},{default:t(()=>[d("Voltar ao Login")]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})])}}});export{fe as default};
