import{s as v,K as p,I as g,o as f,c as w,b as e,w as t,a as i,f as k,d,j as y,H as b,r as S,a4 as C,df as I}from"./index-Dqz81vVM.js";import{S as B}from"./sweetalert2.all-DZsQrc6M.js";import{L as z}from"./Logo-eBkDkcsE.js";import{V as L}from"./VRow-BGqpTdP9.js";import{V as c}from"./VCol-BINF_ocd.js";import{a as N,b as R}from"./VCard-C9So-Lqk.js";import{V as T}from"./VForm-DtvzSBDP.js";import{V as h}from"./VTextField-DaKcyAZE.js";import{V as j}from"./VAlert-CHLRYfvu.js";import{V as _}from"./VBtn-Bgpv5Ec5.js";import{V as F}from"./VContainer-BcpsNuq1.js";import"./customizer-HRcJDnbj.js";import"./useRender-CtL9diEn.js";import"./router-CYGewnF6.js";import"./VAvatar-BsrbTqAd.js";import"./transition-CXRJe6h-.js";import"./VInput-BBI0gfJJ.js";import"./index-BuUw32R0.js";import"./forwardRefs-D3j0TLhE.js";import"./VField-Oe7e1yew.js";import"./VLabel-YzjpjXsS.js";import"./group-DhKqBR5C.js";import"./VProgressCircular-Rbj1YaOp.js";import"./resizeObserver-CJ0dz17g.js";const A={class:"authentication"},P={class:"boxed-auth-wrap"},U={class:"d-flex justify-center my-5"},E=i("p",{class:"text-subtitle-1 text-grey100 text-center text-10"}," Por favor, entre com sua nova senha para seu usuário ",-1),H=i("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Senha:",-1),K=i("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Confirmar senha:",-1),fe=v({__name:"BoxedForgotPassword",setup(q){const u=C(),l=b();I();const n=p({get:()=>l.state.pessoas.pessoa.senha,set:s=>l.state.pessoas.pessoa.senha=s}),m=g(""),x=p(()=>n.value==m.value);function V(){const s=u.params.token,o=u.params.email,a=n.value;if(console.log(s),console.log(o),console.log(a),s.length!==60)return"Token deve ter exatamente 60 caracteres.";const r={email:o,novaSenha:a,token:s};l.dispatch("user/redefinirSenha",r).then(D=>{B.fire({title:"Sucesso!",text:"Senha redefinida!",icon:"success",timer:3e3}),setTimeout(()=>{window.location.href="/auth/login"},3e3)})}return(s,o)=>{const a=S("LockIcon");return f(),w("div",A,[e(F,{fluid:"",class:"pa-3"},{default:t(()=>[e(L,{class:"h-100vh d-flex justify-center align-center"},{default:t(()=>[e(c,{cols:"12",lg:"4",xl:"5",class:"d-flex align-center"},{default:t(()=>[i("div",P,[e(N,{elevation:"10",class:"px-sm-1 px-0 mx-auto index-2","max-width":"450"},{default:t(()=>[e(R,{class:"pa-sm-8"},{default:t(()=>[i("div",U,[e(z)]),E,e(T,{ref:"form","lazy-validation":"",class:"mt-sm-13 mt-8"},{default:t(()=>[e(c,{cols:"12",sm:"12",style:{"margin-top":"-20px"}},{default:t(()=>[H,e(h,{type:"password",placeholder:"Insira uma senha",variant:"outlined","hide-details":"",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=r=>n.value=r)},{"append-inner":t(()=>[e(a,{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis"})]),_:1},8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"12"},{default:t(()=>[K,e(h,{type:"password",placeholder:"Insira seu nome",variant:"outlined","hide-details":"",modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=r=>m.value=r)},{"append-inner":t(()=>[e(a,{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis"})]),_:1},8,["modelValue"]),x.value?y("",!0):(f(),k(j,{key:0,type:"error",dense:"",text:""},{default:t(()=>[d(" As senhas não são iguais. ")]),_:1}))]),_:1})]),_:1},512),e(_,{size:"large",color:"primary",block:"",submit:"",rounded:"pill",onClick:V},{default:t(()=>[d("Redefinir Senha")]),_:1}),e(_,{size:"large",color:"lightprimary",to:"/auth/login",block:"",class:"mt-5 text-primary",rounded:"pill"},{default:t(()=>[d("Voltar ao Login")]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})])}}});export{fe as default};
