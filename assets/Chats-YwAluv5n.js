import"./BaseBreadcrumb-CE5SLj2T.js";import{_ as j}from"./AppBaseCard.vue_vue_type_style_index_0_lang-iV39IUGS.js";import{u as H,C as A,a as P}from"./ChatProfile-Fl9mimqq.js";import{s as w,B as C,o as s,c as o,b as t,w as a,R as F,r as p,P as $,a4 as b,a as e,t as d,F as V,q as k,j as u,f as g,d as T,W as q,a5 as L,u as M}from"./index-8q7pL6ew.js";import{V as x}from"./VBtn-BjWyrVq1.js";import{V as R}from"./VTextField-BmiDtK9z.js";import{V as S}from"./VAvatar-C4DMIVUf.js";import{V as v}from"./VSheet-ChCOc8aG.js";import{V as E}from"./VAlert-DCgMfl6F.js";import{V as U}from"./VBadge-JjL5PxS_.js";import{V as z}from"./VDivider-mXiHkCWB.js";import{f as B}from"./index-7KwHQEZV.js";import{V as O}from"./VCard-DBIbWr_Q.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useRender-CNDZSt8y.js";import"./router-nJJuxJHh.js";import"./VNavigationDrawer-CwfU7vfR.js";import"./layout-DKdeTz2d.js";import"./resizeObserver-D64upIbG.js";import"./VOverlay-BI2h3FZJ.js";import"./forwardRefs-D3j0TLhE.js";import"./lazy-Cm5qe7AD.js";import"./transition-jjIw1JEd.js";import"./ssrBoot-4v6vAr-0.js";import"./VMenu-pmeaGHlX.js";import"./dialog-transition-3J_r5iPy.js";import"./VList-CqKLL9WZ.js";import"./index-DrIaegWl.js";import"./user-1-BBy47uA3.js";import"./group-CXC93myL.js";import"./VProgressCircular-Dvt3tCX-.js";import"./VField-D3JgwKyA.js";import"./VLabel-Ca3w9pxE.js";import"./VInput-CXlvbODZ.js";import"./index-DT2YvziZ.js";const G=w({__name:"ChatSendMsg",setup(h){const c=C(""),m=H();function i(l){console.log(l),l.length!==0&&(m.sendMsg(m.chatContent,c.value),c.value="")}return(l,n)=>{const _=p("MoodSmileIcon"),f=p("SendIcon"),D=p("PhotoIcon"),I=p("PaperclipIcon");return s(),o("form",{class:"d-flex align-center pa-4",onSubmit:n[1]||(n[1]=F(y=>i(c.value),["prevent"]))},[t(x,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(_,{size:"24"})]),_:1}),t(R,{variant:"solo","hide-details":"",modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=y=>c.value=y),color:"primary",class:"shadow-none",density:"compact",placeholder:"Type a Message"},null,8,["modelValue"]),t(x,{icon:"",variant:"text",type:"submit",class:"text-medium-emphasis",disabled:!c.value},{default:a(()=>[t(f,{size:"20"})]),_:1},8,["disabled"]),t(x,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(D,{size:"20"})]),_:1}),t(x,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(I,{size:"20"})]),_:1})],32)}}}),J={key:0,class:"pa-6"},K={class:"text-h6 mb-3"},Q={key:0},X=["src"],Y={class:"text-h6 mb-3 mt-7"},Z=["src"],tt={class:"pl-4"},et={class:"text-subtitle-1 font-weight-semibold"},st={class:"text-subtitle-2 mt-1"},at=w({__name:"ChatInfo",props:{chatDetail:Object},setup(h){const c=h,m=$(()=>{var l;return b.uniq(b.flatten((l=c.chatDetail)==null?void 0:l.chatHistory.map(n=>n.attachment))).length}),i=$(()=>{var l;return b.uniq(b.flatten((l=c.chatDetail)==null?void 0:l.chatHistory.map(n=>(n==null?void 0:n.type)==="img"?n.msg:null))).length-1});return(l,n)=>h.chatDetail?(s(),o("div",J,[e("h6",K,"Media ("+d(i.value)+")",1),(s(!0),o(V,null,k(h.chatDetail.chatHistory,_=>(s(),o("div",{key:_.id},[_.type=="img"?(s(),o("div",Q,[e("img",{src:_.msg,alt:"img",width:"100"},null,8,X)])):u("",!0)]))),128)),e("h6",Y,"Attachments ("+d(m.value)+")",1),m.value!=0?(s(),g(v,{key:0},{default:a(()=>[(s(!0),o(V,null,k(h.chatDetail.chatHistory,_=>(s(),o("div",{key:_.id},[(s(!0),o(V,null,k(_.attachment,f=>(s(),o("div",{class:"d-flex align-center mt-7",key:f.file},[t(S,{class:"rounded-md bg-lightsecondary",size:"48"},{default:a(()=>[e("img",{width:"24",alt:"file",src:f.icon},null,8,Z)]),_:2},1024),e("div",tt,[e("h6",et,d(f.file),1),e("h5",st,d(f.fileSize),1)])]))),128))]))),128))]),_:1})):(s(),g(v,{key:1},{default:a(()=>[t(E,{color:"error",type:"warning",density:"compact",variant:"tonal",class:"text-subtitle-1"},{default:a(()=>[T(" No Attachments Found! ")]),_:1})]),_:1}))])):u("",!0)}}),ot={key:0,class:"customHeight"},it={class:"d-flex align-center gap-3 pa-4 justify-space-between"},lt={class:"d-flex gap-2 align-center"},nt=["src"],rt={class:"text-h5 mb-n1"},ct={class:"textPrimary"},dt={class:"d-flex"},mt={class:"d-flex"},ut={class:"w-100",style:{height:"calc(100vh - 360px)"}},_t={key:0,class:"justify-end d-flex text-end mb-1"},pt={key:0,class:"text-medium-emphasis text-subtitle-2"},ht={class:"text-body-1"},ft=["src"],vt={key:1,class:"d-flex align-items-start gap-3 mb-1"},gt=["src"],xt={key:0,class:"text-medium-emphasis text-subtitle-2"},yt={class:"text-body-1"},bt=["src"],Vt={key:0,class:"right-sidebar"},kt=w({__name:"ChatDetail",setup(h){const{lgAndUp:c}=q(),m=H();L(()=>{m.fetchChats()});const i=$(()=>m.chats[m.chatContent-1]),l=C(!!c);function n(){l.value=!l.value}return(_,f)=>{const D=p("PhoneIcon"),I=p("VideoPlusIcon"),y=p("DotsVerticalIcon"),N=p("perfect-scrollbar");return i.value?(s(),o("div",ot,[e("div",null,[e("div",it,[e("div",lt,[t(S,null,{default:a(()=>[e("img",{src:i.value.thumb,alt:"pro",width:"50"},null,8,nt)]),_:1}),t(U,{class:"badg-dotDetail",dot:"",color:i.value.status==="away"?"warning":i.value.status==="busy"?"error":i.value.status==="online"?"success":"containerBg"},null,8,["color"]),e("div",null,[e("h5",rt,d(i.value.name),1),e("small",ct,d(i.value.status),1)])]),e("div",dt,[t(x,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(D,{size:"24"})]),_:1}),t(x,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(I,{size:"24"})]),_:1}),t(x,{icon:"",variant:"text",class:"text-medium-emphasis",onClick:n},{default:a(()=>[t(y,{size:"24"})]),_:1})])]),t(z),t(N,{class:"rightpartHeight h-100"},{default:a(()=>[e("div",mt,[e("div",ut,[(s(!0),o(V,null,k(i.value.chatHistory,r=>(s(),o("div",{key:r.id,class:"pa-5"},[i.value.id===r.senderId?(s(),o("div",_t,[e("div",null,[r.createdAt?(s(),o("small",pt,d(M(B)(new Date(r.createdAt),{addSuffix:!1}))+" ago",1)):u("",!0),r.type=="text"?(s(),g(v,{key:1,class:"bg-lightprimary rounded-md px-3 py-2 mb-1"},{default:a(()=>[e("p",ht,d(r.msg),1)]),_:2},1024)):u("",!0),r.type=="img"?(s(),g(v,{key:2,class:"mb-1"},{default:a(()=>[e("img",{src:r.msg,class:"rounded-md",alt:"pro",width:"250"},null,8,ft)]),_:2},1024)):u("",!0)])])):(s(),o("div",vt,[t(S,null,{default:a(()=>[e("img",{src:i.value.thumb,alt:"pro",width:"40"},null,8,gt)]),_:1}),e("div",null,[r.createdAt?(s(),o("small",xt,d(i.value.name)+", "+d(M(B)(new Date(r.createdAt),{addSuffix:!1}))+" ago ",1)):u("",!0),r.type=="text"?(s(),g(v,{key:1,class:"bg-lightsecondary rounded-md px-3 py-2 mb-1"},{default:a(()=>[e("p",yt,d(r.msg),1)]),_:2},1024)):u("",!0),r.type=="img"?(s(),g(v,{key:2,class:"mb-1"},{default:a(()=>[e("img",{src:r.msg,class:"rounded-md",alt:"pro",width:"250"},null,8,bt)]),_:2},1024)):u("",!0)])]))]))),128))]),l.value?(s(),o("div",Vt,[t(v,null,{default:a(()=>[t(at,{chatDetail:i.value},null,8,["chatDetail"])]),_:1})])):u("",!0)])]),_:1})]),t(z),t(G)])):u("",!0)}}}),Ct={class:"no-scrollbar"},wt=w({__name:"Chats",setup(h){return C({title:"Chat app"}),C([{text:"Messenger",disabled:!0,href:"#"}]),(c,m)=>(s(),g(O,{elevation:"10"},{default:a(()=>[t(j,null,{leftpart:a(()=>[e("div",Ct,[t(A),t(P)])]),rightpart:a(()=>[t(kt)]),mobileLeftContent:a(()=>[t(A),t(P)]),_:1})]),_:1}))}}),ne=W(wt,[["__scopeId","data-v-f339b528"]]);export{ne as default};
