import{a7 as H,a8 as J,a5 as B,a9 as Q,s as I,B as f,r as C,o as m,f as V,w as s,a as i,t as y,b as e,d as v,u as S,j as L,c as $,n as R,a$ as W,F,q as P,R as X,a6 as Y,P as Z}from"./index-BWNHnGrY.js";import{V as tt}from"./VMenu-B7hHWe6G.js";import{e as et,c as E,a as N}from"./VList-BMDYMPOm.js";import{V as q}from"./VDialog-ClTvFVJb.js";import{V as _,b as K}from"./VCard-ZS3Cjikf.js";import{V as O}from"./VTextField-sP6lEpmD.js";import{V as G}from"./VTextarea-BzZVgVLV.js";import{V as D}from"./VSelect-DqHvLNZx.js";import{V as z}from"./VBtn-8fu84Qct.js";import{a as at,V as lt}from"./VAvatar-C0kOQC4u.js";import{f as st}from"./index-BPrHzYuq.js";import{V as ot}from"./VTooltip-B1BsKDmn.js";import{a as nt,V as it}from"./VRow-BNiOMoJY.js";import"./VOverlay-B_j6ITRg.js";import"./forwardRefs-D3j0TLhE.js";import"./router-Q6lkbXYz.js";import"./useRender-FjPIpH-6.js";import"./lazy-Bor3w-M5.js";import"./transition-DVW8c0E3.js";import"./dialog-transition-C1jXuX8L.js";import"./index-COPjBdTO.js";import"./ssrBoot-CfTYl7-_.js";import"./VDivider-DeRbl8WX.js";import"./VField-CwsYRjZU.js";import"./VLabel-LkWPtI96.js";import"./VInput-BLVKKAFu.js";import"./resizeObserver-CmmHuJZN.js";import"./VCheckboxBtn-DTmSZIRC.js";import"./VSelectionControl-DFzro9GQ.js";import"./VChip-x0gaJnQb.js";import"./VSlideGroup-D4BVfi_9.js";import"./group-B2LcQb29.js";import"./VProgressCircular-D7lJ4Pu6.js";import"./index-DT2YvziZ.js";const A=H({id:"tasks",state:()=>({tasks:[],taskContent:"1"}),actions:{async fetchTasks(){try{const t=await J.get("/api/data/task/TaskData");this.tasks=t.data}catch(t){alert(t),console.log(t)}},SelectTask(t){this.taskContent=t},deleteTask(t){const n=this.tasks.map(u=>{var r;const c=(r=u.tasks)==null?void 0:r.filter(d=>d.id!==t);return{...u,tasks:c}});this.tasks=n},addTask(t,n,u,c,r){const d={id:B.uniqueId("#task_"),title:n,subtitle:u,category:c,date:Q(new Date,{seconds:1}),categorybg:r};this.tasks=B.map(this.tasks,a=>a.id===t?{...a,...a.tasks.push(d)}:a)}}}),ut={class:"d-flex align-center justify-space-between px-4 py-2 pr-3"},rt={class:"text-subtitle-2 font-weight-semibold pr-4 cursor-move"},dt=i("h4",{class:"text-h6 mb-5"},"Edit Task ",-1),mt={key:1,class:"text-subtitle-2 px-4"},ct={class:"d-flex align-center justify-space-between px-4 py-3"},ft={class:"d-flex align-center"},kt={class:"body-text-1 text-dark pl-2"},pt=I({__name:"TaskItemCard",props:{task:null},setup(t){const n=f(!1),u=A();function c(){return n.value=!1}function r(){return n.value=!1}return(d,a)=>{const k=C("DotsVerticalIcon"),U=C("RouterLink"),M=C("CalendarIcon");return m(),V(_,{elevation:"10",class:"mb-5"},{default:s(()=>{var b,j,o,w,h,g,x,T;return[i("div",ut,[i("h5",rt,y((b=t.task)==null?void 0:b.title),1),e(U,{to:"",class:"px-0"},{default:s(()=>[e(k,{size:"15"}),e(tt,{activator:"parent"},{default:s(()=>[e(et,{density:"compact"},{default:s(()=>[e(E,{value:"Edit"},{default:s(()=>[e(N,{onClick:a[0]||(a[0]=l=>n.value=!0)},{default:s(()=>[v("Edit")]),_:1})]),_:1}),e(E,{value:"Delete"},{default:s(()=>[e(N,{onClick:a[1]||(a[1]=l=>{var p;return S(u).deleteTask((p=t.task)==null?void 0:p.id)})},{default:s(()=>[v("Delete")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(q,{modelValue:n.value,"onUpdate:modelValue":a[6]||(a[6]=l=>n.value=l),"max-width":"500"},{default:s(()=>[e(_,null,{default:s(()=>[e(K,{class:"mb-4"},{default:s(()=>[dt,e(O,{outlined:"",name:"Task",modelValue:t.task.title,"onUpdate:modelValue":a[2]||(a[2]=l=>t.task.title=l),label:"Title"},null,8,["modelValue"]),e(G,{outlined:"",name:"Task-subtitle",modelValue:t.task.subtitle,"onUpdate:modelValue":a[3]||(a[3]=l=>t.task.subtitle=l),label:"Subtitle"},null,8,["modelValue"]),e(D,{label:"Select",modelValue:t.task.category,"onUpdate:modelValue":a[4]||(a[4]=l=>t.task.category=l),variant:"outlined",items:["Mobile","Design","Development"]},null,8,["modelValue"]),e(D,{label:"Select",modelValue:t.task.categorybg,"onUpdate:modelValue":a[5]||(a[5]=l=>t.task.categorybg=l),variant:"outlined",items:["primary","warning","success","error"]},null,8,["modelValue"]),e(z,{color:"primary",variant:"flat",onClick:c},{default:s(()=>[v("Save")]),_:1}),e(z,{variant:"flat",onClick:r},{default:s(()=>[v("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),(j=t.task)!=null&&j.taskimg?(m(),V(at,{key:0,src:(o=t.task)==null?void 0:o.taskimg,height:"110px",cover:"",class:"w-100 mb-3"},null,8,["src"])):L("",!0),(w=t.task)!=null&&w.subtitle?(m(),$("p",mt,y((h=t.task)==null?void 0:h.subtitle),1)):L("",!0),i("div",ct,[i("div",ft,[e(M,{size:"16"}),i("div",kt,y(S(st)(new Date((g=t.task)==null?void 0:g.date),{addSuffix:!1}))+" ago",1)]),i("div",{class:R("rounded-sm body-text-1 px-1 py-0 bg-"+((x=t.task)==null?void 0:x.categorybg)),size:"small"},y((T=t.task)==null?void 0:T.category),3)])]}),_:1})}}}),vt={class:"pa-5"},Vt={class:"d-flex align-center justify-space-between"},bt={class:"text-h6 font-weight-semibold"},gt=["task"],xt=i("h4",{class:"text-h6 mb-5"},"Add Task ",-1),Tt=I({__name:"TaskColumn",props:{column:Object},setup(t){var b;const n=t,u=f(!1),c=A(),r=f(""),d=f(""),a=f("Mobile"),k=f("primary"),U=f((b=n.column)==null?void 0:b.id);function M(){r.value="",d.value="",a.value="Mobile",k.value="primary"}return(j,o)=>{var g;const w=C("PlusIcon"),h=C("draggable");return m(),V(_,{elevation:"10",class:R("bg-"+((g=t.column)==null?void 0:g.cardbg))},{default:s(()=>{var x,T;return[i("div",vt,[i("div",Vt,[i("h6",bt,y((x=t.column)==null?void 0:x.title),1),e(lt,{size:"22",elevation:"10",class:"bg-surface d-flex align-center cursor-pointer",onClick:o[0]||(o[0]=l=>u.value=!0)},{default:s(()=>[e(ot,{activator:"parent",location:"top"},{default:s(()=>[v("Add Task ")]),_:1}),e(w,{size:"13","stroke-width":"2"})]),_:1})]),e(h,{class:"dragArea list-group mt-6",list:(T=t.column)==null?void 0:T.tasks,animation:200,"ghost-class":"ghost-card",group:"tasks"},{default:s(()=>[e(W,null,{default:s(()=>{var l;return[(m(!0),$(F,null,P((l=t.column)==null?void 0:l.tasks,p=>(m(),$("div",{key:p.id,task:p,class:"mt-3 cursor-move"},[e(pt,{task:p},null,8,["task"])],8,gt))),128))]}),_:1})]),_:1},8,["list"])]),e(q,{modelValue:u.value,"onUpdate:modelValue":o[7]||(o[7]=l=>u.value=l),"max-width":"500"},{default:s(()=>[e(_,null,{default:s(()=>[e(K,{class:"mb-4"},{default:s(()=>[xt,i("form",{onSubmit:o[6]||(o[6]=X(l=>(S(c).addTask(U.value,r.value,d.value,a.value,k.value),M()),["prevent"]))},[e(O,{outlined:"",name:"Task",modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=l=>r.value=l),label:"Title"},null,8,["modelValue"]),e(G,{outlined:"",name:"Task-subtitle",modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=l=>d.value=l),label:"Subtitle"},null,8,["modelValue"]),e(D,{label:"Select",modelValue:a.value,"onUpdate:modelValue":o[3]||(o[3]=l=>a.value=l),variant:"outlined",items:["Mobile","Design","Development"]},null,8,["modelValue"]),e(D,{label:"Select",modelValue:k.value,"onUpdate:modelValue":o[4]||(o[4]=l=>k.value=l),variant:"outlined",items:["primary","warning","success","error"]},null,8,["modelValue"]),e(z,{color:"primary",variant:"flat",type:"submit",disabled:r.value=="",onClick:o[5]||(o[5]=l=>u.value=!1)},{default:s(()=>[v("Save")]),_:1},8,["disabled"])],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])]}),_:1},8,["class"])}}}),yt={class:"pa-5"},Ct=i("h5",{class:"text-h5 font-weight-semibold mb-7"},"Kanban Application",-1),_t=I({__name:"TaskCard",setup(t){const n=A();Y(()=>{n.fetchTasks()});const c=Z(()=>n.tasks);return(r,d)=>(m(),V(_,{elevation:"10"},{default:s(()=>[i("div",yt,[Ct,e(nt,null,{default:s(()=>[(m(!0),$(F,null,P(S(c),a=>(m(),V(it,{cols:"12",md:"3",sm:"6",class:"d-flex",key:a.id},{default:s(()=>[e(Tt,{column:a},null,8,["column"])]),_:2},1024))),128))]),_:1})])]),_:1}))}}),oe=I({__name:"Kanban",setup(t){return(n,u)=>(m(),V(_t))}});export{oe as default};
