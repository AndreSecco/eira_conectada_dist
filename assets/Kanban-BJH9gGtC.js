import{a2 as W,a3 as Y,a1 as B,a4 as H,s as I,z as f,r as C,o as m,f as V,w as s,a as i,t as y,b as e,d as v,u as S,j as E,c as $,n as F,aW as J,F as R,q,E as Q,Y as X,B as Z}from"./index-CxfvrG0R.js";import{V as tt}from"./VMenu-CtG-sL3K.js";import{e as et,c as L,a as N}from"./VList-DPk3hWbU.js";import{V as K}from"./VDialog-DNTn0Dz0.js";import{a as _,V as O}from"./VCard-WCNkAsTT.js";import{V as P}from"./VTextField-o7SEqwKd.js";import{V as G}from"./VTextarea-Dz9UfOUo.js";import{V as D}from"./VSelect-DV6aiO8L.js";import{V as j}from"./VBtn-CNVT8xl4.js";import{a as at,V as lt}from"./VAvatar-r9wZOSzC.js";import{f as st}from"./index-BlEvCiO_.js";import{V as ot}from"./VTooltip-jBbAepOC.js";import{V as nt}from"./VRow-D76zD352.js";import{V as it}from"./VCol-DGbZvjpl.js";import"./VOverlay-B6bjjR2f.js";import"./forwardRefs-D3j0TLhE.js";import"./router-jVIzGHed.js";import"./useRender-C1AZmRnF.js";import"./lazy-BLT9BDSr.js";import"./transition-B0zmlAf5.js";import"./dialog-transition-D6ToYAMH.js";import"./index-DvkW6Mtr.js";import"./ssrBoot-DR0XxhxC.js";import"./VDivider-BHYih08e.js";import"./VField-Bp54Ga7S.js";import"./VLabel-BDo1gh9G.js";import"./VInput-DT_inFPg.js";import"./resizeObserver-BGFvTuEN.js";import"./VCheckboxBtn-DZOsnXOv.js";import"./VSelectionControl-4oqberIa.js";import"./VChip-q-EpGQCu.js";import"./VSlideGroup-AyOkpV-I.js";import"./group-BEM4NtSs.js";import"./VProgressCircular-DsPbyCva.js";import"./index-DT2YvziZ.js";const A=W({id:"tasks",state:()=>({tasks:[],taskContent:"1"}),actions:{async fetchTasks(){try{const t=await Y.get("/api/data/task/TaskData");this.tasks=t.data}catch(t){alert(t),console.log(t)}},SelectTask(t){this.taskContent=t},deleteTask(t){const n=this.tasks.map(r=>{var u;const c=(u=r.tasks)==null?void 0:u.filter(d=>d.id!==t);return{...r,tasks:c}});this.tasks=n},addTask(t,n,r,c,u){const d={id:B.uniqueId("#task_"),title:n,subtitle:r,category:c,date:H(new Date,{seconds:1}),categorybg:u};this.tasks=B.map(this.tasks,a=>a.id===t?{...a,...a.tasks.push(d)}:a)}}}),rt={class:"d-flex align-center justify-space-between px-4 py-2 pr-3"},ut={class:"text-subtitle-2 font-weight-semibold pr-4 cursor-move"},dt=i("h4",{class:"text-h6 mb-5"},"Edit Task ",-1),mt={key:1,class:"text-subtitle-2 px-4"},ct={class:"d-flex align-center justify-space-between px-4 py-3"},ft={class:"d-flex align-center"},kt={class:"body-text-1 text-dark pl-2"},pt=I({__name:"TaskItemCard",props:{task:null},setup(t){const n=f(!1),r=A();function c(){return n.value=!1}function u(){return n.value=!1}return(d,a)=>{const k=C("DotsVerticalIcon"),U=C("RouterLink"),z=C("CalendarIcon");return m(),V(_,{elevation:"10",class:"mb-5"},{default:s(()=>{var b,M,o,w,h,g,x,T;return[i("div",rt,[i("h5",ut,y((b=t.task)==null?void 0:b.title),1),e(U,{to:"",class:"px-0"},{default:s(()=>[e(k,{size:"15"}),e(tt,{activator:"parent"},{default:s(()=>[e(et,{density:"compact"},{default:s(()=>[e(L,{value:"Edit"},{default:s(()=>[e(N,{onClick:a[0]||(a[0]=l=>n.value=!0)},{default:s(()=>[v("Edit")]),_:1})]),_:1}),e(L,{value:"Delete"},{default:s(()=>[e(N,{onClick:a[1]||(a[1]=l=>{var p;return S(r).deleteTask((p=t.task)==null?void 0:p.id)})},{default:s(()=>[v("Delete")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(K,{modelValue:n.value,"onUpdate:modelValue":a[6]||(a[6]=l=>n.value=l),"max-width":"500"},{default:s(()=>[e(_,null,{default:s(()=>[e(O,{class:"mb-4"},{default:s(()=>[dt,e(P,{outlined:"",name:"Task",modelValue:t.task.title,"onUpdate:modelValue":a[2]||(a[2]=l=>t.task.title=l),label:"Title"},null,8,["modelValue"]),e(G,{outlined:"",name:"Task-subtitle",modelValue:t.task.subtitle,"onUpdate:modelValue":a[3]||(a[3]=l=>t.task.subtitle=l),label:"Subtitle"},null,8,["modelValue"]),e(D,{label:"Select",modelValue:t.task.category,"onUpdate:modelValue":a[4]||(a[4]=l=>t.task.category=l),variant:"outlined",items:["Mobile","Design","Development"]},null,8,["modelValue"]),e(D,{label:"Select",modelValue:t.task.categorybg,"onUpdate:modelValue":a[5]||(a[5]=l=>t.task.categorybg=l),variant:"outlined",items:["primary","warning","success","error"]},null,8,["modelValue"]),e(j,{color:"primary",variant:"flat",onClick:c},{default:s(()=>[v("Save")]),_:1}),e(j,{variant:"flat",onClick:u},{default:s(()=>[v("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),(M=t.task)!=null&&M.taskimg?(m(),V(at,{key:0,src:(o=t.task)==null?void 0:o.taskimg,height:"110px",cover:"",class:"w-100 mb-3"},null,8,["src"])):E("",!0),(w=t.task)!=null&&w.subtitle?(m(),$("p",mt,y((h=t.task)==null?void 0:h.subtitle),1)):E("",!0),i("div",ct,[i("div",ft,[e(z,{size:"16"}),i("div",kt,y(S(st)(new Date((g=t.task)==null?void 0:g.date),{addSuffix:!1}))+" ago",1)]),i("div",{class:F("rounded-sm body-text-1 px-1 py-0 bg-"+((x=t.task)==null?void 0:x.categorybg)),size:"small"},y((T=t.task)==null?void 0:T.category),3)])]}),_:1})}}}),vt={class:"pa-5"},Vt={class:"d-flex align-center justify-space-between"},bt={class:"text-h6 font-weight-semibold"},gt=["task"],xt=i("h4",{class:"text-h6 mb-5"},"Add Task ",-1),Tt=I({__name:"TaskColumn",props:{column:Object},setup(t){var b;const n=t,r=f(!1),c=A(),u=f(""),d=f(""),a=f("Mobile"),k=f("primary"),U=f((b=n.column)==null?void 0:b.id);function z(){u.value="",d.value="",a.value="Mobile",k.value="primary"}return(M,o)=>{var g;const w=C("PlusIcon"),h=C("draggable");return m(),V(_,{elevation:"10",class:F("bg-"+((g=t.column)==null?void 0:g.cardbg))},{default:s(()=>{var x,T;return[i("div",vt,[i("div",Vt,[i("h6",bt,y((x=t.column)==null?void 0:x.title),1),e(lt,{size:"22",elevation:"10",class:"bg-surface d-flex align-center cursor-pointer",onClick:o[0]||(o[0]=l=>r.value=!0)},{default:s(()=>[e(ot,{activator:"parent",location:"top"},{default:s(()=>[v("Add Task ")]),_:1}),e(w,{size:"13","stroke-width":"2"})]),_:1})]),e(h,{class:"dragArea list-group mt-6",list:(T=t.column)==null?void 0:T.tasks,animation:200,"ghost-class":"ghost-card",group:"tasks"},{default:s(()=>[e(J,null,{default:s(()=>{var l;return[(m(!0),$(R,null,q((l=t.column)==null?void 0:l.tasks,p=>(m(),$("div",{key:p.id,task:p,class:"mt-3 cursor-move"},[e(pt,{task:p},null,8,["task"])],8,gt))),128))]}),_:1})]),_:1},8,["list"])]),e(K,{modelValue:r.value,"onUpdate:modelValue":o[7]||(o[7]=l=>r.value=l),"max-width":"500"},{default:s(()=>[e(_,null,{default:s(()=>[e(O,{class:"mb-4"},{default:s(()=>[xt,i("form",{onSubmit:o[6]||(o[6]=Q(l=>(S(c).addTask(U.value,u.value,d.value,a.value,k.value),z()),["prevent"]))},[e(P,{outlined:"",name:"Task",modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=l=>u.value=l),label:"Title"},null,8,["modelValue"]),e(G,{outlined:"",name:"Task-subtitle",modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=l=>d.value=l),label:"Subtitle"},null,8,["modelValue"]),e(D,{label:"Select",modelValue:a.value,"onUpdate:modelValue":o[3]||(o[3]=l=>a.value=l),variant:"outlined",items:["Mobile","Design","Development"]},null,8,["modelValue"]),e(D,{label:"Select",modelValue:k.value,"onUpdate:modelValue":o[4]||(o[4]=l=>k.value=l),variant:"outlined",items:["primary","warning","success","error"]},null,8,["modelValue"]),e(j,{color:"primary",variant:"flat",type:"submit",disabled:u.value=="",onClick:o[5]||(o[5]=l=>r.value=!1)},{default:s(()=>[v("Save")]),_:1},8,["disabled"])],32)]),_:1})]),_:1})]),_:1},8,["modelValue"])]}),_:1},8,["class"])}}}),yt={class:"pa-5"},Ct=i("h5",{class:"text-h5 font-weight-semibold mb-7"},"Kanban Application",-1),_t=I({__name:"TaskCard",setup(t){const n=A();X(()=>{n.fetchTasks()});const c=Z(()=>n.tasks);return(u,d)=>(m(),V(_,{elevation:"10"},{default:s(()=>[i("div",yt,[Ct,e(nt,null,{default:s(()=>[(m(!0),$(R,null,q(S(c),a=>(m(),V(it,{cols:"12",md:"3",sm:"6",class:"d-flex",key:a.id},{default:s(()=>[e(Tt,{column:a},null,8,["column"])]),_:2},1024))),128))]),_:1})])]),_:1}))}}),ne=I({__name:"Kanban",setup(t){return(n,r)=>(m(),V(_t))}});export{ne as default};
