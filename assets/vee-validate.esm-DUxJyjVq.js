import{u as d,P as k,a4 as Ue,bD as Le,bk as he,O as U,bv as ur,cw as $e,s as or,Y as Ae,aG as lr,aX as sr,bE as cr,B as Y,$ as Me,an as fe,aV as fr,cx as dr}from"./index-BovjKzzn.js";/**
  * vee-validate v4.6.7
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function oe(e){return typeof e=="function"}function Ge(e){return e==null}const te=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function xe(e){return Number(e)>=0}function vr(e){const r=parseFloat(e);return isNaN(r)?e:r}const mr={};function yr(e){return mr[e]}const ve=Symbol("vee-validate-form"),hr=Symbol("vee-validate-field-instance"),Ce=Symbol("Default empty value");function je(e){return oe(e)&&!!e.__locatorRef}function de(e){return!!e&&oe(e.validate)}function Ke(e){return e==="checkbox"||e==="radio"}function gr(e){return te(e)||Array.isArray(e)}function Ye(e){return Array.isArray(e)?e.length===0:te(e)&&Object.keys(e).length===0}function ge(e){return/^\[.+\]$/i.test(e)}function br(e){return qe(e)&&e.multiple}function qe(e){return e.tagName==="SELECT"}function We(e){return pe(e)&&e.target&&"submit"in e.target}function pe(e){return e?!!(typeof Event<"u"&&oe(Event)&&e instanceof Event||e&&e.srcElement):!1}var Be=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var i,n,a;if(Array.isArray(r)){if(i=r.length,i!=t.length)return!1;for(n=i;n--!==0;)if(!e(r[n],t[n]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(a=Object.keys(r),i=a.length,i!==Object.keys(t).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=i;n--!==0;){var l=a[n];if(!e(r[l],t[l]))return!1}return!0}return r!==r&&t!==t};function Ie(e){return ge(e)?e.replace(/\[|\]/gi,""):e}function P(e,r,t){return e?ge(r)?e[Ie(r)]:(r||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((n,a)=>gr(n)&&a in n?n[a]:t,e):t}function re(e,r,t){if(ge(r)){e[Ie(r)]=t;return}const i=r.split(/\.|\[(\d+)\]/).filter(Boolean);let n=e;for(let a=0;a<i.length;a++){if(a===i.length-1){n[i[a]]=t;return}(!(i[a]in n)||Ge(n[i[a]]))&&(n[i[a]]=xe(i[a+1])?[]:{}),n=n[i[a]]}}function Se(e,r){if(Array.isArray(e)&&xe(r)){e.splice(Number(r),1);return}te(e)&&delete e[r]}function Ee(e,r){if(ge(r)){delete e[Ie(r)];return}const t=r.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let a=0;a<t.length;a++){if(a===t.length-1){Se(i,t[a]);break}if(!(t[a]in i)||Ge(i[t[a]]))break;i=i[t[a]]}const n=t.map((a,l)=>P(e,t.slice(0,l).join(".")));for(let a=n.length-1;a>=0;a--)if(Ye(n[a])){if(a===0){Se(e,t[0]);continue}Se(n[a-1],t[a-1])}}function M(e){return Object.keys(e)}function be(e,r=void 0){const t=$e();return(t==null?void 0:t.provides[e])||cr(e,r)}function we(e,r,t){if(Array.isArray(e)){const i=[...e],n=i.findIndex(a=>Be(a,r));return n>=0?i.splice(n,1):i.push(r),i}return Be(e,r)?t:r}function Pe(e,r=0){let t=null,i=[];return function(...n){return t&&window.clearTimeout(t),t=window.setTimeout(()=>{const a=e(...n);i.forEach(l=>l(a)),i=[]},r),new Promise(a=>i.push(a))}}function Vr(e,r){return te(r)&&r.number?vr(e):e}function _e(e,r){let t;return async function(...n){const a=e(...n);t=a;const l=await a;return a!==t||(t=void 0,r(l,n)),l}}const Or=(e,r,t)=>r.slots.default?typeof e=="string"||!e?r.slots.default(t()):{default:()=>{var i,n;return(n=(i=r.slots).default)===null||n===void 0?void 0:n.call(i,t())}}:r.slots.default;function Fe(e){if(Xe(e))return e._value}function Xe(e){return"_value"in e}function He(e){if(!pe(e))return e;const r=e.target;if(Ke(r.type)&&Xe(r))return Fe(r);if(r.type==="file"&&r.files){const t=Array.from(r.files);return r.multiple?t:t[0]}if(br(r))return Array.from(r.options).filter(t=>t.selected&&!t.disabled).map(Fe);if(qe(r)){const t=Array.from(r.options).find(i=>i.selected);return t?Fe(t):r.value}return r.value}function Je(e){const r={};return Object.defineProperty(r,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?te(e)&&e._$$isNormalized?e:te(e)?Object.keys(e).reduce((t,i)=>{const n=Ar(e[i]);return e[i]!==!1&&(t[i]=Ne(n)),t},r):typeof e!="string"?r:e.split("|").reduce((t,i)=>{const n=Sr(i);return n.name&&(t[n.name]=Ne(n.params)),t},r):r}function Ar(e){return e===!0?[]:Array.isArray(e)||te(e)?e:[e]}function Ne(e){const r=t=>typeof t=="string"&&t[0]==="@"?Er(t.slice(1)):t;return Array.isArray(e)?e.map(r):e instanceof RegExp?[e]:Object.keys(e).reduce((t,i)=>(t[i]=r(e[i]),t),{})}const Sr=e=>{let r=[];const t=e.split(":")[0];return e.includes(":")&&(r=e.split(":").slice(1).join(":").split(",")),{name:t,params:r}};function Er(e){const r=t=>P(t,e)||t[e];return r.__locatorRef=e,r}function Fr(e){return Array.isArray(e)?e.filter(je):M(e).filter(r=>je(e[r])).map(r=>e[r])}const jr={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let wr=Object.assign({},jr);const _r=()=>wr;async function Qe(e,r,t={}){const i=t==null?void 0:t.bails,n={name:(t==null?void 0:t.name)||"{field}",rules:r,bails:i??!0,formData:(t==null?void 0:t.values)||{}},l=(await Mr(n,e)).errors;return{errors:l,valid:!l.length}}async function Mr(e,r){if(de(e.rules))return pr(r,e.rules,{bails:e.bails});if(oe(e.rules)||Array.isArray(e.rules)){const l={field:e.name,form:e.formData,value:r},v=Array.isArray(e.rules)?e.rules:[e.rules],c=v.length,m=[];for(let V=0;V<c;V++){const g=v[V],b=await g(r,l);if(typeof b!="string"&&b)continue;const R=typeof b=="string"?b:Ze(l);if(m.push(R),e.bails)return{errors:m}}return{errors:m}}const t=Object.assign(Object.assign({},e),{rules:Je(e.rules)}),i=[],n=Object.keys(t.rules),a=n.length;for(let l=0;l<a;l++){const v=n[l],c=await Ir(t,r,{name:v,params:t.rules[v]});if(c.error&&(i.push(c.error),e.bails))return{errors:i}}return{errors:i}}async function pr(e,r,t){var i;return{errors:await r.validate(e,{abortEarly:(i=t.bails)!==null&&i!==void 0?i:!0}).then(()=>[]).catch(a=>{if(a.name==="ValidationError")return a.errors;throw a})}}async function Ir(e,r,t){const i=yr(t.name);if(!i)throw new Error(`No such validator '${t.name}' exists.`);const n=kr(t.params,e.formData),a={field:e.name,value:r,form:e.formData,rule:Object.assign(Object.assign({},t),{params:n})},l=await i(r,n,a);return typeof l=="string"?{error:l}:{error:l?void 0:Ze(a)}}function Ze(e){const r=_r().generateMessage;return r?r(e):"Field is invalid"}function kr(e,r){const t=i=>je(i)?i(r):i;return Array.isArray(e)?e.map(t):Object.keys(e).reduce((i,n)=>(i[n]=t(e[n]),i),{})}async function Rr(e,r){const t=await e.validate(r,{abortEarly:!1}).then(()=>[]).catch(a=>{if(a.name!=="ValidationError")throw a;return a.inner||[]}),i={},n={};for(const a of t){const l=a.errors;i[a.path]={valid:!l.length,errors:l},l.length&&(n[a.path]=l[0])}return{valid:!t.length,results:i,errors:n}}async function Cr(e,r,t){const n=M(e).map(async m=>{var V,g,b;const w=await Qe(P(r,m),e[m],{name:((V=t==null?void 0:t.names)===null||V===void 0?void 0:V[m])||m,values:r,bails:(b=(g=t==null?void 0:t.bailsMap)===null||g===void 0?void 0:g[m])!==null&&b!==void 0?b:!0});return Object.assign(Object.assign({},w),{path:m})});let a=!0;const l=await Promise.all(n),v={},c={};for(const m of l)v[m.path]={valid:m.valid,errors:m.errors},m.valid||(a=!1,c[m.path]=m.errors[0]);return{valid:a,results:v,errors:c}}function Te(e,r,t){typeof t.value=="object"&&(t.value=E(t.value)),!t.enumerable||t.get||t.set||!t.configurable||!t.writable||r==="__proto__"?Object.defineProperty(e,r,t):e[r]=t.value}function E(e){if(typeof e!="object")return e;var r=0,t,i,n,a=Object.prototype.toString.call(e);if(a==="[object Object]"?n=Object.create(e.__proto__||null):a==="[object Array]"?n=Array(e.length):a==="[object Set]"?(n=new Set,e.forEach(function(l){n.add(E(l))})):a==="[object Map]"?(n=new Map,e.forEach(function(l,v){n.set(E(v),E(l))})):a==="[object Date]"?n=new Date(+e):a==="[object RegExp]"?n=new RegExp(e.source,e.flags):a==="[object DataView]"?n=new e.constructor(E(e.buffer)):a==="[object ArrayBuffer]"?n=e.slice(0):a.slice(-6)==="Array]"&&(n=new e.constructor(e)),n){for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)Te(n,i[r],Object.getOwnPropertyDescriptor(e,i[r]));for(r=0,i=Object.getOwnPropertyNames(e);r<i.length;r++)Object.hasOwnProperty.call(n,t=i[r])&&n[t]===e[t]||Te(n,t,Object.getOwnPropertyDescriptor(e,t))}return n||e}var L=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var i,n,a;if(Array.isArray(r)){if(i=r.length,i!=t.length)return!1;for(n=i;n--!==0;)if(!e(r[n],t[n]))return!1;return!0}if(r instanceof Map&&t instanceof Map){if(r.size!==t.size)return!1;for(n of r.entries())if(!t.has(n[0]))return!1;for(n of r.entries())if(!e(n[1],t.get(n[0])))return!1;return!0}if(r instanceof Set&&t instanceof Set){if(r.size!==t.size)return!1;for(n of r.entries())if(!t.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(r)&&ArrayBuffer.isView(t)){if(i=r.length,i!=t.length)return!1;for(n=i;n--!==0;)if(r[n]!==t[n])return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(a=Object.keys(r),i=a.length,i!==Object.keys(t).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=i;n--!==0;){var l=a[n];if(!e(r[l],t[l]))return!1}return!0}return r!==r&&t!==t};let De=0;function Br(e,r){const{value:t,initialValue:i,setInitialValue:n}=er(e,r.modelValue,!r.standalone),{errorMessage:a,errors:l,setErrors:v}=Nr(e,!r.standalone),c=Pr(t,i,l),m=De>=Number.MAX_SAFE_INTEGER?0:++De;function V(g){var b;"value"in g&&(t.value=g.value),"errors"in g&&v(g.errors),"touched"in g&&(c.touched=(b=g.touched)!==null&&b!==void 0?b:c.touched),"initialValue"in g&&n(g.initialValue)}return{id:m,path:e,value:t,initialValue:i,meta:c,errors:l,errorMessage:a,setState:V}}function er(e,r,t=!0){const i=t===!0?be(ve,void 0):void 0,n=Y(d(r));function a(){return i?P(i.meta.value.initialValues,d(e),d(n)):d(n)}function l(V){if(!i){n.value=V;return}i.stageInitialValue(d(e),V,!0)}const v=k(a);if(!i)return{value:Y(a()),initialValue:v,setInitialValue:l};const c=r?d(r):P(i.values,d(e),d(v));return i.stageInitialValue(d(e),c,!0),{value:k({get(){return P(i.values,d(e))},set(V){i.setFieldValue(d(e),V)}}),initialValue:v,setInitialValue:l}}function Pr(e,r,t){const i=Me({touched:!1,pending:!1,valid:!0,validated:!!d(t).length,initialValue:k(()=>d(r)),dirty:k(()=>!L(d(e),d(r)))});return U(t,n=>{i.valid=!n.length},{immediate:!0,flush:"sync"}),i}function Nr(e,r){const t=r?be(ve,void 0):void 0;function i(a){return a?Array.isArray(a)?a:[a]:[]}if(!t){const a=Y([]);return{errors:a,errorMessage:k(()=>a.value[0]),setErrors:l=>{a.value=i(l)}}}const n=k(()=>t.errorBag.value[d(e)]||[]);return{errors:n,errorMessage:k(()=>n.value[0]),setErrors:a=>{t.setFieldErrorBag(d(e),i(a))}}}function Wr(e,r,t){return Ke(t==null?void 0:t.type)?zr(e,r,t):rr(e,r,t)}function rr(e,r,t){const{initialValue:i,validateOnMount:n,bails:a,type:l,checkedValue:v,label:c,validateOnValueUpdate:m,uncheckedValue:V,standalone:g,keepValueOnUnmount:b,modelPropName:w,syncVModel:R}=Tr(d(e),t),S=g?void 0:be(ve);let q=!1;const{id:$,value:B,initialValue:Z,meta:F,setState:N,errors:ne,errorMessage:G}=Br(e,{modelValue:i,standalone:g});R&&Ur({value:B,prop:w,handleChange:se});const le=()=>{F.touched=!0},ie=k(()=>{let s=d(r);const A=d(S==null?void 0:S.schema);return A&&!de(A)&&(s=Dr(A,d(e))||s),de(s)||oe(s)||Array.isArray(s)?s:Je(s)});async function C(s){var A,p;return S!=null&&S.validateSchema?(A=(await S.validateSchema(s)).results[d(e)])!==null&&A!==void 0?A:{valid:!0,errors:[]}:Qe(B.value,ie.value,{name:d(c)||d(e),values:(p=S==null?void 0:S.values)!==null&&p!==void 0?p:{},bails:a})}const O=_e(async()=>(F.pending=!0,F.validated=!0,C("validated-only")),s=>(q&&(s.valid=!0,s.errors=[]),N({errors:s.errors}),F.pending=!1,s)),_=_e(async()=>C("silent"),s=>(q&&(s.valid=!0),F.valid=s.valid,s));function W(s){return(s==null?void 0:s.mode)==="silent"?_():O()}function se(s,A=!0){const p=He(s);B.value=p,!m&&A&&O()}Ue(()=>{if(n)return O();(!S||!S.validateSchema)&&_()});function X(s){F.touched=s}let T;function H(){T=U(B,(s,A)=>{if(L(s,A))return;(m?O:_)()},{deep:!0})}H();function J(s){var A;T==null||T();const p=s&&"value"in s?s.value:Z.value;N({value:E(p),initialValue:E(p),touched:(A=s==null?void 0:s.touched)!==null&&A!==void 0?A:!1,errors:(s==null?void 0:s.errors)||[]}),F.pending=!1,F.validated=!1,_(),fe(()=>{H()})}function me(s){B.value=s}function ye(s){N({errors:Array.isArray(s)?s:[s]})}const D={id:$,name:e,label:c,value:B,meta:F,errors:ne,errorMessage:G,type:l,checkedValue:v,uncheckedValue:V,bails:a,keepValueOnUnmount:b,resetField:J,handleReset:()=>J(),validate:W,handleChange:se,handleBlur:le,setState:N,setTouched:X,setErrors:ye,setValue:me};if(Le(hr,D),he(r)&&typeof d(r)!="function"&&U(r,(s,A)=>{L(s,A)||(F.validated?O():_())},{deep:!0}),!S)return D;S.register(D),ur(()=>{q=!0,S.unregister(D)});const Q=k(()=>{const s=ie.value;return!s||oe(s)||de(s)||Array.isArray(s)?{}:Object.keys(s).reduce((A,p)=>{const Ve=Fr(s[p]).map(ae=>ae.__locatorRef).reduce((ae,x)=>{const ee=P(S.values,x)||S.values[x];return ee!==void 0&&(ae[x]=ee),ae},{});return Object.assign(A,Ve),A},{})});return U(Q,(s,A)=>{if(!Object.keys(s).length)return;!L(s,A)&&(F.validated?O():_())}),D}function Tr(e,r){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:e,validateOnValueUpdate:!0,standalone:!1,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0});if(!r)return t();const i="valueProp"in r?r.valueProp:r.checkedValue;return Object.assign(Object.assign(Object.assign({},t()),r||{}),{checkedValue:i})}function Dr(e,r){if(e)return e[r]}function zr(e,r,t){const i=t!=null&&t.standalone?void 0:be(ve),n=t==null?void 0:t.checkedValue,a=t==null?void 0:t.uncheckedValue;function l(v){const c=v.handleChange,m=k(()=>{const g=d(v.value),b=d(n);return Array.isArray(g)?g.findIndex(w=>L(w,b))>=0:L(b,g)});function V(g,b=!0){var w;if(m.value===((w=g==null?void 0:g.target)===null||w===void 0?void 0:w.checked))return;let R=He(g);i||(R=we(d(v.value),d(n),d(a))),c(R,b)}return Object.assign(Object.assign({},v),{checked:m,checkedValue:n,uncheckedValue:a,handleChange:V})}return l(rr(e,r,t))}function Ur({prop:e,value:r,handleChange:t}){const i=$e();if(!i)return;const n=e||"modelValue",a=`update:${n}`;n in i.props&&(U(r,l=>{L(l,ze(i,n))||i.emit(a,l)}),U(()=>ze(i,n),l=>{if(l===Ce&&r.value===void 0)return;const v=l===Ce?void 0:l;L(v,Vr(r.value,i.props.modelModifiers))||t(v)}))}function ze(e,r){return e.props[r]}let Lr=0;function $r(e){var r;const t=Lr++;let i=!1;const n=Y({}),a=Y(!1),l=Y(0),v=[],c=Me(E(d(e==null?void 0:e.initialValues)||{})),{errorBag:m,setErrorBag:V,setFieldErrorBag:g}=Kr(e==null?void 0:e.initialErrors),b=k(()=>M(m.value).reduce((u,o)=>{const y=m.value[o];return y&&y.length&&(u[o]=y[0]),u},{}));function w(u){const o=n.value[u];return Array.isArray(o)?o[0]:o}function R(u){return!!n.value[u]}const S=k(()=>M(n.value).reduce((u,o)=>{const y=w(o);return y&&(u[o]=d(y.label||y.name)||""),u},{})),q=k(()=>M(n.value).reduce((u,o)=>{var y;const h=w(o);return h&&(u[o]=(y=h.bails)!==null&&y!==void 0?y:!0),u},{})),$=Object.assign({},(e==null?void 0:e.initialErrors)||{}),B=(r=e==null?void 0:e.keepValuesOnUnmount)!==null&&r!==void 0?r:!1,{initialValues:Z,originalInitialValues:F,setInitialValues:N}=xr(n,c,e==null?void 0:e.initialValues),ne=Gr(n,c,F,b),G=e==null?void 0:e.validationSchema,le=Pe(Re,5),ie=Pe(Re,5),C=_e(async u=>await u==="silent"?le():ie(),(u,[o])=>{const y=O.fieldsByPath.value||{},h=M(O.errorBag.value);return[...new Set([...M(u.results),...M(y),...h])].reduce((j,I)=>{const K=y[I],ue=(u.results[I]||{errors:[]}).errors,z={errors:ue,valid:!ue.length};if(j.results[I]=z,z.valid||(j.errors[I]=z.errors[0]),!K)return X(I,ue),j;if(W(K,ce=>ce.meta.valid=z.valid),o==="silent")return j;const ar=Array.isArray(K)?K.some(ce=>ce.meta.validated):K.meta.validated;return o==="validated-only"&&!ar||W(K,ce=>ce.setState({errors:z.errors})),j},{valid:u.valid,results:{},errors:{}})}),O={formId:t,fieldsByPath:n,values:c,errorBag:m,errors:b,schema:G,submitCount:l,meta:ne,isSubmitting:a,fieldArrays:v,keepValuesOnUnmount:B,validateSchema:d(G)?C:void 0,validate:x,register:Ve,unregister:ae,setFieldErrorBag:g,validateField:ee,setFieldValue:H,setValues:J,setErrors:T,setFieldError:X,setFieldTouched:D,setTouched:Q,resetForm:s,handleSubmit:Oe,stageInitialValue:nr,unsetInitialValue:tr,setFieldInitialValue:ke,useFieldModel:ye};function _(u){return Array.isArray(u)}function W(u,o){return Array.isArray(u)?u.forEach(o):o(u)}function se(u){Object.values(n.value).forEach(o=>{o&&W(o,u)})}function X(u,o){g(u,o)}function T(u){V(u)}function H(u,o,{force:y}={force:!1}){var h;const f=n.value[u],j=E(o);if(!f){re(c,u,j);return}if(_(f)&&((h=f[0])===null||h===void 0?void 0:h.type)==="checkbox"&&!Array.isArray(o)){const K=E(we(P(c,u)||[],o,void 0));re(c,u,K);return}let I=o;!_(f)&&f.type==="checkbox"&&!y&&!i&&(I=E(we(P(c,u),o,d(f.uncheckedValue)))),re(c,u,I)}function J(u){M(c).forEach(o=>{delete c[o]}),M(u).forEach(o=>{H(o,u[o])}),v.forEach(o=>o&&o.reset())}function me(u){const{value:o}=er(u);return U(o,()=>{R(d(u))||x({mode:"validated-only"})},{deep:!0}),o}function ye(u){return Array.isArray(u)?u.map(me):me(u)}function D(u,o){const y=n.value[u];y&&W(y,h=>h.setTouched(o))}function Q(u){M(u).forEach(o=>{D(o,!!u[o])})}function s(u){i=!0,u!=null&&u.values?(N(u.values),J(u==null?void 0:u.values)):(N(F.value),J(F.value)),se(o=>o.resetField()),u!=null&&u.touched&&Q(u.touched),T((u==null?void 0:u.errors)||{}),l.value=(u==null?void 0:u.submitCount)||0,fe(()=>{i=!1})}function A(u,o){const y=dr(u),h=o;if(!n.value[h]){n.value[h]=y;return}const f=n.value[h];f&&!Array.isArray(f)&&(n.value[h]=[f]),n.value[h]=[...n.value[h],y]}function p(u,o){const y=o,h=n.value[y];if(h){if(!_(h)&&u.id===h.id){delete n.value[y];return}if(_(h)){const f=h.findIndex(j=>j.id===u.id);if(f===-1)return;h.splice(f,1),h.length||delete n.value[y]}}}function Ve(u){const o=d(u.name);A(u,o),he(u.name)&&U(u.name,async(h,f)=>{await fe(),p(u,f),A(u,h),(b.value[f]||b.value[h])&&(X(f,void 0),ee(h)),await fe(),R(f)||Ee(c,f)});const y=d(u.errorMessage);y&&($==null?void 0:$[o])!==y&&ee(o),delete $[o]}function ae(u){const o=d(u.name),y=n.value[o],h=!!y&&_(y);p(u,o),fe(()=>{var f;const j=(f=d(u.keepValueOnUnmount))!==null&&f!==void 0?f:d(B),I=P(c,o);if(h&&(y===n.value[o]||!n.value[o])&&Array.isArray(I)&&!j){const ue=I.findIndex(z=>L(z,d(u.checkedValue)));if(ue>-1){const z=[...I];z.splice(ue,1),H(o,z,{force:!0})}}if(!R(o)){if(X(o,void 0),j||h&&!Ye(P(c,o)))return;Ee(c,o)}})}async function x(u){if(se(f=>f.meta.validated=!0),O.validateSchema)return O.validateSchema((u==null?void 0:u.mode)||"force");const o=await Promise.all(Object.values(n.value).map(f=>{const j=Array.isArray(f)?f[0]:f;return j?j.validate(u).then(I=>({key:d(j.name),valid:I.valid,errors:I.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),y={},h={};for(const f of o)y[f.key]={valid:f.valid,errors:f.errors},f.errors.length&&(h[f.key]=f.errors[0]);return{valid:o.every(f=>f.valid),results:y,errors:h}}async function ee(u){const o=n.value[u];return o?Array.isArray(o)?o.map(y=>y.validate())[0]:o.validate():Promise.resolve({errors:[],valid:!0})}function Oe(u,o){return function(h){return h instanceof Event&&(h.preventDefault(),h.stopPropagation()),Q(M(n.value).reduce((f,j)=>(f[j]=!0,f),{})),a.value=!0,l.value++,x().then(f=>{if(f.valid&&typeof u=="function")return u(E(c),{evt:h,setErrors:T,setFieldError:X,setTouched:Q,setFieldTouched:D,setValues:J,setFieldValue:H,resetForm:s});!f.valid&&typeof o=="function"&&o({values:E(c),evt:h,errors:f.errors,results:f.results})}).then(f=>(a.value=!1,f),f=>{throw a.value=!1,f})}}function ke(u,o){re(Z.value,u,E(o))}function tr(u){Ee(Z.value,u)}function nr(u,o,y=!1){re(c,u,o),ke(u,o),y&&!(e!=null&&e.initialValues)&&re(F.value,u,E(o))}async function Re(){const u=d(G);return u?de(u)?await Rr(u,c):await Cr(u,c,{names:S.value,bailsMap:q.value}):{valid:!0,results:{},errors:{}}}const ir=Oe((u,{evt:o})=>{We(o)&&o.target.submit()});return Ue(()=>{if(e!=null&&e.initialErrors&&T(e.initialErrors),e!=null&&e.initialTouched&&Q(e.initialTouched),e!=null&&e.validateOnMount){x();return}O.validateSchema&&O.validateSchema("silent")}),he(G)&&U(G,()=>{var u;(u=O.validateSchema)===null||u===void 0||u.call(O,"validated-only")}),Le(ve,O),{errors:b,meta:ne,values:c,isSubmitting:a,submitCount:l,validate:x,validateField:ee,handleReset:()=>s(),resetForm:s,handleSubmit:Oe,submitForm:ir,setFieldError:X,setErrors:T,setFieldValue:H,setValues:J,setFieldTouched:D,setTouched:Q,useFieldModel:ye}}function Gr(e,r,t,i){const n={touched:"some",pending:"some",valid:"every"},a=k(()=>!L(r,d(t)));function l(){const c=Object.values(e.value).flat(1).filter(Boolean);return M(n).reduce((m,V)=>{const g=n[V];return m[V]=c[g](b=>b.meta[V]),m},{})}const v=Me(l());return fr(()=>{const c=l();v.touched=c.touched,v.valid=c.valid,v.pending=c.pending}),k(()=>Object.assign(Object.assign({initialValues:d(t)},v),{valid:v.valid&&!M(i.value).length,dirty:a.value}))}function xr(e,r,t){const i=Y(E(d(t))||{}),n=Y(E(d(t))||{});function a(l,v=!1){i.value=E(l),n.value=E(l),v&&M(e.value).forEach(c=>{const m=e.value[c],V=Array.isArray(m)?m.some(b=>b.meta.touched):m==null?void 0:m.meta.touched;if(!m||V)return;const g=P(i.value,c);re(r,c,E(g))})}return he(t)&&U(t,l=>{a(l,!0)},{deep:!0}),{initialValues:i,originalInitialValues:n,setInitialValues:a}}function Kr(e){const r=Y({});function t(a){return Array.isArray(a)?a:a?[a]:[]}function i(a,l){if(!l){delete r.value[a];return}r.value[a]=t(l)}function n(a){r.value=M(a).reduce((l,v)=>{const c=a[v];return c&&(l[v]=t(c)),l},{})}return e&&n(e),{errorBag:r,setErrorBag:n,setFieldErrorBag:i}}const Yr=or({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,r){const t=Ae(e,"initialValues"),i=Ae(e,"validationSchema"),n=Ae(e,"keepValues"),{errors:a,values:l,meta:v,isSubmitting:c,submitCount:m,validate:V,validateField:g,handleReset:b,resetForm:w,handleSubmit:R,setErrors:S,setFieldError:q,setFieldValue:$,setValues:B,setFieldTouched:Z,setTouched:F}=$r({validationSchema:i.value?i:void 0,initialValues:t,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:n}),N=R((C,{evt:O})=>{We(O)&&O.target.submit()},e.onInvalidSubmit),ne=e.onSubmit?R(e.onSubmit,e.onInvalidSubmit):N;function G(C){pe(C)&&C.preventDefault(),b(),typeof r.attrs.onReset=="function"&&r.attrs.onReset()}function le(C,O){return R(typeof C=="function"&&!O?C:O,e.onInvalidSubmit)(C)}function ie(){return{meta:v.value,errors:a.value,values:l,isSubmitting:c.value,submitCount:m.value,validate:V,validateField:g,handleSubmit:le,handleReset:b,submitForm:N,setErrors:S,setFieldError:q,setFieldValue:$,setValues:B,setFieldTouched:Z,setTouched:F,resetForm:w}}return r.expose({setFieldError:q,setErrors:S,setFieldValue:$,setValues:B,setFieldTouched:Z,setTouched:F,resetForm:w,validate:V,validateField:g}),function(){const O=e.as==="form"?e.as:lr(e.as),_=Or(O,r,ie);if(!e.as)return _;const W=e.as==="form"?{novalidate:!0}:{};return sr(O,Object.assign(Object.assign(Object.assign({},W),r.attrs),{onSubmit:ne,onReset:G}),_)}}}),Xr=Yr;export{Xr as F,Wr as u};
