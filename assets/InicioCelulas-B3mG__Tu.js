import{_ as fe}from"./UiParentCard.vue_vue_type_script_setup_true_lang-C5j4wGMG.js";import{s as J,P as C,B as d,a5 as _e,O as ve,o as c,c as w,b as e,w as l,d as n,t as h,u as v,dk as ge,a as g,j as y,f as R,dl as be,dm as he,L as Ve,d7 as xe,F as D,D as se,r as ye,H as Ce,I as we,q as qe}from"./index-8q7pL6ew.js";import{S as ke}from"./sweetalert2.all-EhoRfdrk.js";import{V as Z}from"./VDialog-BGuE2ETE.js";import{V as ee,a as le,b as Se}from"./VCard-DBIbWr_Q.js";import{V as q}from"./VBtn-BjWyrVq1.js";import{V as Ne}from"./VForm-DjAppaQZ.js";import{c as oe,V as ne,a as ue,b as re}from"./VExpansionPanel-CCscWgCw.js";import{a as m,V as o}from"./VRow-BnnpBeQi.js";import{V as r}from"./VLabel-Ca3w9pxE.js";import{V as ae}from"./VSelect-B6L8gQXq.js";import{V as L}from"./VAutocomplete-s0lPpZLg.js";import{V as E}from"./VTextField-BmiDtK9z.js";import{V as te}from"./VSpacer-BVMaG7C3.js";import{V as A}from"./VProgressCircular-Dvt3tCX-.js";import{B as Ie}from"./BaseBreadcrumb-CE5SLj2T.js";import"./VDivider-mXiHkCWB.js";import"./router-nJJuxJHh.js";import"./useRender-CNDZSt8y.js";import"./VOverlay-BI2h3FZJ.js";import"./forwardRefs-D3j0TLhE.js";import"./lazy-Cm5qe7AD.js";import"./transition-jjIw1JEd.js";import"./dialog-transition-3J_r5iPy.js";import"./VAvatar-C4DMIVUf.js";import"./group-CXC93myL.js";import"./VInput-CXlvbODZ.js";import"./index-DrIaegWl.js";import"./VList-CqKLL9WZ.js";import"./ssrBoot-4v6vAr-0.js";import"./VMenu-pmeaGHlX.js";import"./resizeObserver-D64upIbG.js";import"./VCheckboxBtn-C1b-0oIJ.js";import"./VSelectionControl-D7Xwq1Kb.js";import"./VChip-CYg66lWa.js";import"./VSlideGroup-CUioHPeW.js";import"./filter-Cea5ddWC.js";import"./VField-D3JgwKyA.js";const $e=g("span",{class:"text-h5"},"Registrar Célula",-1),Be=g("br",null,null,-1),Re=g("br",null,null,-1),Ue=g("br",null,null,-1),Pe=g("br",null,null,-1),Le=g("div",{class:"d-flex"},null,-1),Ae={class:"d-flex",style:{"align-items":"baseline"}},De={key:0,style:{"font-size":"20px"}},Oe={key:0,class:"ml-5"},je={class:"pa-4 d-flex justify-end gap-2"},ze=g("span",{class:"text-h5"},"Adicionar Novo Convidado(a)",-1),Te={key:0,class:"ml-5"},Fe={key:0,class:"ml-5"},Ee={class:"pa-4 d-flex justify-end gap-2"},Je={key:0,class:"ml-5"},Me=J({__name:"HeaderCelula",setup(M){const u=se();Ce(),we();const V=C({get:()=>u.state.grupos.grupo.nr_seq_lider,set:t=>u.state.grupos.grupo.nr_seq_lider=t}),N=C({get:()=>u.state.celulas.celula.quem_pregou,set:t=>u.state.celulas.celula.quem_pregou=t}),k=C({get:()=>u.state.celulas.celula.ofertas_voluntarias,set:t=>u.state.celulas.celula.ofertas_voluntarias=t}),b=C({get:()=>u.state.celulas.celula.obs_celula,set:t=>u.state.celulas.celula.obs_celula=t}),p=d([]),x=d(),O=C({get:()=>u.state.celulas.celula.nr_seq_grupo,set:t=>u.state.celulas.celula.nr_seq_grupo=t}),j=C({get:()=>u.state.celulas.celula.array_convidados,set:t=>u.state.celulas.celula.array_convidados=t}),H=C({get:()=>u.state.celulas.celula.membros_presentes,set:t=>u.state.celulas.celula.membros_presentes=t}),U=C({get:()=>u.state.celulas.celula.nr_seq_celula,set:t=>u.state.celulas.celula.nr_seq_celula=t}),W=d([]);var f=d([]);const i=d(!1),I=d(""),Q=t=>{const a=t.target;I.value=a.value,f.value=[],i.value=!0,u.dispatch("pessoas/getListaPessoa",I.value).then(_=>{const s=_.data.listaPessoas.map(B=>({nr_sequencial:B.nr_sequencial,nome_pessoa:B.nome_pessoa}));f.value=s,i.value=!1}).catch(()=>{i.value=!1}),i.value=!1},G=t=>{const a=t.target;I.value=a.value,f.value=[],i.value=!0,P.value=I.value,u.dispatch("pessoas/getListaPessoa",I.value).then(_=>{const s=_.data.listaPessoas.map(B=>({nr_sequencial:B.nr_sequencial,nome_pessoa:B.nome_pessoa}));f.value=s,i.value=!1}).catch(()=>{i.value=!1}),i.value=!1};function ie(t){return console.log(t),`${X(t.dias_semana)} - ${t.horario} - ${t.sexo_participantes}`}function de(t){return`${t.nome_pessoa}`}_e(()=>{const t=localStorage.getItem("user");if(t){u.state.celulas.dadosCelula=[];const a=JSON.parse(t);console.log(a);const _={nr_sequencial:a.user.nr_seq_pessoa,nome_pessoa:a.user.nome_pessoa};f.value.push(_),V.value=_,K()}});function K(){const t=V.value.nr_sequencial;u.dispatch("celulas/getCelulasLider",t).then(a=>{p.value=a.data,x.value=p.value,console.log(x.value)})}ve(U,t=>{t&&z(t)});function z(t){var _;const a=((_=t[0])==null?void 0:_.nr_sequencial)??U.value.nr_sequencial;u.state.celulas.dadosCelula=[],u.dispatch("celulas/buscaMembros",a).then(s=>{W.value=s.data.membros_celula}),O.value=a}function X(t){if(t)try{const a=JSON.parse(t);return Array.isArray(a)?JSON.stringify(a).replace(/[\[\]]/g,"").replace(/"/g,""):"Sem informação"}catch{return"Sem informação"}else return"Sem dias disponíveis"}function me(){u.dispatch("celulas/finalizarCelula").then(()=>{ke.fire({title:"Sucesso!",text:"Célula registrada com sucesso!",icon:"success"}),S.value=!1,z(x.value)})}const S=d(!1),$=d(!1),P=d(""),T=d(""),F=d(""),Y=d(!1);function ce(){const t={nome_convidado:P.value,whatsapp_convidado:T.value,quem_convidou:F.value};if(console.log(t),!t.nome_convidado||!t.whatsapp_convidado||!t.quem_convidou)return!1;j.value.push(t),$.value=!1}function pe(t){let a=t.replace(/\D/g,"");return a=(parseFloat(a)/100).toFixed(2).toString(),new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(a)).replace("R$ ","").trim()}return(t,a)=>{const _=ye("PlusIcon");return c(),w(D,null,[e(o,{cols:"12",lg:"12",md:"12",class:"text-right"},{default:l(()=>[e(Z,{modelValue:S.value,"onUpdate:modelValue":a[10]||(a[10]=s=>S.value=s),"max-width":"700"},{default:l(()=>[e(ee,null,{default:l(()=>[e(le,{class:"px-4 pt-6 justify-space-between d-flex align-center"},{default:l(()=>[$e,e(q,{onClick:a[0]||(a[0]=s=>S.value=!1),ripple:!1,density:"compact",icon:"mdi-close"})]),_:1}),e(Se,{class:"px-4"},{default:l(()=>[e(Ne,{class:"dialog_form",ref:"form",modelValue:Y.value,"onUpdate:modelValue":a[1]||(a[1]=s=>Y.value=s),"lazy-validation":""},{default:l(()=>[e(oe,null,{default:l(()=>[e(ne,{elevation:"10"},{default:l(()=>[e(ue,{class:"text-h6"},{default:l(()=>[n("Detalhes")]),_:1}),e(re,{class:"mt-4"},{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12",md:"6"},{default:l(()=>[e(m,{class:"align-center mb-6"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Dias da Semana:")]),_:1}),Be,e(r,{class:"font-weight-light",for:"clnm"},{default:l(()=>[n(h(X(p.value[0].dias_semana)),1)]),_:1})]),_:1})]),_:1}),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Classificação:")]),_:1}),Re,e(r,{class:"font-weight-light",for:"clnm"},{default:l(()=>[n(h(p.value[0].tipo_grupo),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{cols:"12",md:"6"},{default:l(()=>[e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Horário:")]),_:1}),Ue,e(r,{class:"font-weight-light",for:"clnm"},{default:l(()=>[n(h(p.value[0].horario),1)]),_:1})]),_:1})]),_:1}),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Sexo Participantes:")]),_:1}),Pe,e(r,{class:"font-weight-light",for:"clnm"},{default:l(()=>[n(h(p.value[0].sexo_participantes),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",md:"12"},{default:l(()=>[Le]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:"12",lg:"12",md:"12",class:"text-right"},{default:l(()=>[e(m,{style:{padding:"10px"}},{default:l(()=>[e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Selecione as pessoas presentes:")]),_:1}),e(ae,{modelValue:H.value,"onUpdate:modelValue":a[2]||(a[2]=s=>H.value=s),label:"Selecione as pessoas presentes",multiple:"",items:W.value,"item-title":de,"item-value":"abbr","return-object":"","single-line":"",variant:"outlined","hide-details":"",id:"vfcntry"},{"prepend-inner":l(()=>[e(v(ge),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue","items"]),g("div",Ae,[e(q,{color:"primary",class:"mt-sm-3 mt-3 mr-5",flat:"",onClick:a[3]||(a[3]=s=>$.value=!0)},{default:l(()=>[e(_,{class:"mr-1"}),n(" Novo Convidado ")]),_:1}),j.value.length>0?(c(),w("span",De,"+ "+h(j.value.length),1)):y("",!0)])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Selecione quem pregou:")]),_:1}),e(L,{modelValue:N.value,"onUpdate:modelValue":a[4]||(a[4]=s=>N.value=s),label:"Buscar Nome",items:v(f),color:"primary",variant:"outlined","hide-details":"",onInput:G,"item-title":"nome_pessoa","item-value":"nr_sequencial",loading:i.value},{"append-item":l(()=>[i.value?(c(),R(A,{key:0,class:"ml-5",indeterminate:"",color:"primary"})):y("",!0)]),"no-data":l(()=>[!i.value&&v(f).length===0?(c(),w("div",Oe,"Nenhum dado encontrado")):y("",!0)]),_:1},8,["modelValue","items","loading"])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Valor das ofertas:")]),_:1}),e(E,{color:"primary",variant:"outlined",type:"text","hide-details":"",modelValue:k.value,"onUpdate:modelValue":a[5]||(a[5]=s=>k.value=s),onInput:a[6]||(a[6]=s=>k.value=pe(k.value))},{"prepend-inner":l(()=>[e(v(be),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Observação:")]),_:1}),e(E,{modelValue:b.value,"onUpdate:modelValue":a[7]||(a[7]=s=>b.value=s),variant:"outlined",placeholder:"Observação",id:"fctime",type:"text",color:"primary"},{"prepend-inner":l(()=>[e(v(he),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),g("div",je,[e(te),e(q,{color:"error",onClick:a[8]||(a[8]=s=>S.value=!1),class:"px-3 rounded-pill"},{default:l(()=>[n("Cancelar")]),_:1}),e(q,{color:"primary",class:"px-3 rounded-pill",onClick:a[9]||(a[9]=s=>me())},{default:l(()=>[n("Registrar Célula")]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:"12",lg:"12",md:"12",class:"text-right"},{default:l(()=>[e(Z,{modelValue:$.value,"onUpdate:modelValue":a[17]||(a[17]=s=>$.value=s),"max-width":"700"},{default:l(()=>[e(ee,null,{default:l(()=>[e(le,{class:"px-4 pt-6 justify-space-between d-flex align-center"},{default:l(()=>[ze,e(q,{onClick:a[11]||(a[11]=s=>S.value=!1),ripple:!1,density:"compact",icon:"mdi-close"})]),_:1}),e(o,{cols:"12",lg:"12",md:"12",class:"text-right"},{default:l(()=>[e(m,{style:{padding:"10px"}},{default:l(()=>[e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-0 font-weight-medium"},{default:l(()=>[n("Nome:")]),_:1}),e(L,{modelValue:P.value,"onUpdate:modelValue":a[12]||(a[12]=s=>P.value=s),label:"Buscar Nome",items:v(f),color:"primary",variant:"outlined","hide-details":"",onInput:G,"item-title":"nome_pessoa","item-value":"nr_sequencial",loading:i.value},{"append-item":l(()=>[i.value?(c(),R(A,{key:0,class:"ml-5",indeterminate:"",color:"primary"})):y("",!0)]),"no-data":l(()=>[!i.value&&v(f).length===0?(c(),w("div",Te,"Nenhum dado encontrado")):y("",!0)]),_:1},8,["modelValue","items","loading"])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("WhatsApp:")]),_:1}),e(E,{modelValue:T.value,"onUpdate:modelValue":a[13]||(a[13]=s=>T.value=s),variant:"outlined",placeholder:"WhatsApp",id:"fctime",type:"text",color:"primary"},{"prepend-inner":l(()=>[e(v(Ve),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Quem Convidou?:")]),_:1}),e(L,{modelValue:F.value,"onUpdate:modelValue":a[14]||(a[14]=s=>F.value=s),label:"Buscar Nome",items:v(f),color:"primary",variant:"outlined","hide-details":"",onInput:Q,"item-title":"nome_pessoa","item-value":"nr_sequencial",loading:i.value},{"append-item":l(()=>[i.value?(c(),R(A,{key:0,class:"ml-5",indeterminate:"",color:"primary"})):y("",!0)]),"no-data":l(()=>[!i.value&&v(f).length===0?(c(),w("div",Fe,"Nenhum dado encontrado")):y("",!0)]),_:1},8,["modelValue","items","loading"])]),_:1})]),_:1})]),_:1}),g("div",Ee,[e(te),e(q,{color:"error",onClick:a[15]||(a[15]=s=>$.value=!1),class:"px-3 rounded-pill"},{default:l(()=>[n("Cancelar")]),_:1}),e(q,{color:"primary",class:"px-3 rounded-pill",onClick:a[16]||(a[16]=s=>ce())},{default:l(()=>[n("Adicionar Convidado")]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{class:"align-center mb-3",style:{"margin-top":"-70px"}},{default:l(()=>[e(o,{cols:"12",sm:"12"},{default:l(()=>[e(L,{modelValue:V.value,"onUpdate:modelValue":a[18]||(a[18]=s=>V.value=s),label:"Buscar Líder da Célula",items:v(f),color:"primary",variant:"outlined","hide-details":"",onInput:Q,onChange:K,"item-title":"nome_pessoa",loading:i.value,"return-object":""},{"append-item":l(()=>[i.value?(c(),R(A,{key:0,class:"ml-5",indeterminate:"",color:"primary"})):y("",!0)]),"no-data":l(()=>[!i.value&&v(f).length===0?(c(),w("div",Je,"Nenhum dado encontrado")):y("",!0)]),_:1},8,["modelValue","items","loading"])]),_:1})]),_:1}),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"9"},{default:l(()=>[e(ae,{modelValue:U.value,"onUpdate:modelValue":a[19]||(a[19]=s=>U.value=s),label:"Suas Células",items:p.value,"item-title":ie,"item-value":"abbr","return-object":"","single-line":"",variant:"outlined",onChange:z,"hide-details":"",id:"vfcntry"},{"prepend-inner":l(()=>[e(v(xe),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue","items"])]),_:1}),e(o,{cols:"12",sm:"3"},{default:l(()=>[e(q,{color:"primary",class:"mt-sm-0 mt-3",flat:"",onClick:a[20]||(a[20]=s=>S.value=!0)},{default:l(()=>[e(_,{class:"mr-1"}),n(" Registrar Célula ")]),_:1})]),_:1})]),_:1})],64)}}}),He=g("h5",{class:"text-h5 mb-6 mt-3"},"Dados Célula",-1),We=J({__name:"CollapsibleCelulas",setup(M){const u=se();d("1"),d("1"),d("1");const V=C({get:()=>u.state.celulas.dadosCelula,set:b=>u.state.celulas.dadosCelula=b});function N(b){if(b)try{const p=JSON.parse(b);return Array.isArray(p)?JSON.stringify(p).replace(/[\[\]]/g,"").replace(/"/g,""):"Sem informação"}catch{return"Sem informação"}else return"Sem dias disponíveis"}console.log(V);const k=b=>new Date(b).toLocaleString("pt-BR");return(b,p)=>(c(),w(D,null,[He,e(oe,null,{default:l(()=>[(c(!0),w(D,null,qe(V.value,(x,O)=>(c(),R(ne,{elevation:"10",class:"mb-3",key:O},{default:l(()=>[e(ue,{class:"text-h6"},{default:l(()=>[n(h(k(x.data_celula))+" - "+h(N(x.dias_semana)),1)]),_:2},1024),e(re,{class:"mt-4"},{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12",md:"6"},{default:l(()=>[e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Total Pessoas:")]),_:1})]),_:1}),e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-bold",for:"clnm"},{default:l(()=>[n(h(x.pessoas_presentes),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Ofertas Voluntárias:")]),_:1})]),_:1}),e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-bold",for:"clnm"},{default:l(()=>[n("R$ "+h(x.ofertas_voluntarias),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Observação:")]),_:1})]),_:1}),e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-bold",for:"clnm"},{default:l(()=>[n(h(x.obs_celula),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})],64))}}),Rl=J({__name:"InicioCelulas",setup(M){const u=d({title:"Registrar Célula"}),V=d([{text:"Início",disabled:!1,href:"#"},{text:"Registrar Célula",disabled:!0,href:"#"}]);return d(null),(N,k)=>(c(),w(D,null,[e(Ie,{title:u.value.title,breadcrumbs:V.value},null,8,["title","breadcrumbs"]),e(m,null,{default:l(()=>[e(o,{cols:"12",md:"12"},{default:l(()=>[e(fe,{title:"Relatório semanal de grupos"},{default:l(()=>[e(Me)]),_:1})]),_:1}),e(o,{cols:"12"},{default:l(()=>[e(We)]),_:1})]),_:1})],64))}});export{Rl as default};
