import{s as T,B as d,P as m,o as C,c as X,b as e,w as o,u as E,a as n,d as u,f as G,j as H,D as W,r as V,H as J,I as K}from"./index-Drcx1nkw.js";import{S as B}from"./sweetalert2.all-J8FgVoDU.js";import{a as F,V as i}from"./VRow-DeXodjpA.js";import{V as r}from"./VTextField-DDNCS_BM.js";import{V as O}from"./VAutocomplete-Dm0x6fpr.js";import{V as N}from"./VSelect-D-kbmoQe.js";import{V as Q,a as j}from"./VRadioGroup-VJFBg5G3.js";import{V as g}from"./VLabel-DFEf5wK6.js";import{V as Y}from"./VAlert-K37Kj_XO.js";import{V as Z}from"./VForm-qyzc8hiw.js";import{V as z}from"./VBtn-B0pBVZG4.js";const $={class:""},ee=n("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Nome:",-1),se=n("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Empresa:",-1),te=n("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Filial:",-1),ae=n("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Sexo:",-1),oe={class:"d-flex gap-2"},le=n("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Data Nascimento:",-1),ie={class:"mb-6"},me={class:"mb-6"},ne=n("div",{class:"mb-2 font-weight-medium text-subtitle-1",style:{"margin-top":"-20px"}},"Entrou em:",-1),de=n("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Senha:",-1),re=n("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Confirmar senha:",-1),ue={class:"mt-4"},Ue=T({__name:"RegisterForm",setup(pe){J();const a=W(),R=K(),P=d(["Solteiro(a)","Casado(a)","Divorciado(a)","Viúvo(a)","Separado(a)","União Estável"]),c=m({get:()=>a.state.pessoas.pessoa.nome_pessoa,set:s=>a.state.pessoas.pessoa.nome_pessoa=s}),h=m({get:()=>a.state.pessoas.pessoa.sexo_pessoa,set:s=>a.state.pessoas.pessoa.sexo_pessoa=s}),b=m({get:()=>a.state.pessoas.pessoa.dt_nascimento,set:s=>a.state.pessoas.pessoa.dt_nascimento=s}),x=m({get:()=>a.state.pessoas.pessoa.estado_civil,set:s=>a.state.pessoas.pessoa.estado_civil=s}),w=m({get:()=>a.state.pessoas.pessoa.entrou_em,set:s=>a.state.pessoas.pessoa.entrou_em=s});m({get:()=>{var s;return((s=a.state.pessoas.pessoa)==null?void 0:s.nome_conjuge)??null},set:s=>a.state.pessoas.pessoa.nome_conjuge=s});const y=m({get:()=>a.state.pessoas.pessoa.whatsapp,set:s=>a.state.pessoas.pessoa.whatsapp=s}),U=m({get:()=>a.state.pessoas.pessoa.email,set:s=>a.state.pessoas.pessoa.email=s}),f=m({get:()=>a.state.pessoas.pessoa.senha,set:s=>a.state.pessoas.pessoa.senha=s}),_=m({get:()=>a.state.pessoas.pessoa.empresas,set:s=>a.state.pessoas.pessoa.empresas=s}),k=m({get:()=>a.state.pessoas.pessoa.filial_pessoa,set:s=>a.state.pessoas.pessoa.filial_pessoa=s});let I=d(),S=d();a.dispatch("empresa/getEmpresas").then(s=>{console.log("eterte"),I.value=s.data.map(t=>t.nome_empresa)});const v=d(""),A=m(()=>f.value===v.value);d(!1),d(!0),d(""),d([]),d(!1);function D(){if(!c.value)return alert("Insira todos os campos!"),!1;a.dispatch("pessoas/registrarNovoUsuario").then(s=>{s.data?(B.fire({title:"Sucesso!",text:"Usuário cadastrado com sucesso",icon:"success",timer:2e3,showConfirmButton:!1}),a.dispatch("pessoas/updateIdUser",{id_user:s.data,router:R})):console.log(s)}).catch(s=>{B.fire({title:"Error!",text:"Erro ao registrar usuário",icon:"error",timer:2e3,showConfirmButton:!1})})}d(!1);const L=s=>{a.dispatch("empresa/getFiliaisEmpresa",_.value).then(t=>{S.value=t.data.map(p=>({nr_sequencial:p.nr_sequencial,nome_filial:p.nome_filial}))})};return(s,t)=>{const p=V("LockIcon"),q=V("XIcon"),M=V("PlusIcon");return C(),X("div",$,[e(Z,{class:"dialog_form",ref:"form"},{default:o(()=>[e(F,null,{default:o(()=>[e(i,{cols:"12",lg:"12",class:"mb-0"}),e(i,{cols:"12",sm:"12"},{default:o(()=>[ee,e(r,{placeholder:"Insira seu nome",variant:"outlined","hide-details":"",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l)},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:o(()=>[se,e(O,{modelValue:_.value,"onUpdate:modelValue":[t[1]||(t[1]=l=>_.value=l),t[2]||(t[2]=l=>L(l))],items:E(I),label:"Selecione uma empresa","return-object":"","single-line":"",variant:"outlined","hide-details":""},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:o(()=>[te,e(N,{modelValue:k.value,"onUpdate:modelValue":t[3]||(t[3]=l=>k.value=l),items:E(S),"item-title":"nome_filial","item-value":"abbr",label:"Selecione uma filial","return-object":"","single-line":"",variant:"outlined","hide-details":"",id:"vfcntry"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:o(()=>[ae,n("div",oe,[e(Q,{inline:"",modelValue:h.value,"onUpdate:modelValue":t[4]||(t[4]=l=>h.value=l)},{default:o(()=>[e(j,{value:"M",label:"Masc",color:"primary",id:"mmb"}),e(j,{value:"F",label:"Fem",color:"primary",id:"mmb2"})]),_:1},8,["modelValue"])])]),_:1}),e(i,{cols:"12",sm:"6"},{default:o(()=>[le,e(r,{modelValue:b.value,"onUpdate:modelValue":t[5]||(t[5]=l=>b.value=l),variant:"outlined",type:"date",color:"primary"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6",style:{"margin-top":"-20px"}},{default:o(()=>[n("div",ie,[e(g,{class:"font-weight-medium mb-2",for:"vfphone1"},{default:o(()=>[u("WhatsApp")]),_:1}),e(r,{color:"primary",variant:"outlined",id:"vfphone1",type:"text",placeholder:"49 9 1234-4568","hide-details":"",modelValue:y.value,"onUpdate:modelValue":t[6]||(t[6]=l=>y.value=l)},null,8,["modelValue"])])]),_:1}),e(i,{cols:"12",md:"6",style:{"margin-top":"-20px"}},{default:o(()=>[n("div",me,[e(g,{class:"font-weight-medium mb-2",for:"vflngg"},{default:o(()=>[u("Email")]),_:1}),e(r,{color:"primary",variant:"outlined",id:"vfname3",type:"text",placeholder:"email@gmail.com","hide-details":"",modelValue:U.value,"onUpdate:modelValue":t[7]||(t[7]=l=>U.value=l)},null,8,["modelValue"])])]),_:1}),e(i,{class:"",cols:"12",sm:"6",style:{"margin-top":"-20px"}},{default:o(()=>[e(g,{class:"mb-2 font-weight-medium text-subtitle-1",for:"fcseldrop"},{default:o(()=>[u("Estado Civil")]),_:1}),e(N,{items:P.value,"item-title":"items","item-value":"abbr","return-object":"","single-line":"",variant:"outlined",modelValue:x.value,"onUpdate:modelValue":t[8]||(t[8]=l=>x.value=l),id:"fcseldrop"},null,8,["items","modelValue"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:o(()=>[ne,e(r,{modelValue:w.value,"onUpdate:modelValue":t[9]||(t[9]=l=>w.value=l),variant:"outlined",type:"date",id:"fcdt",color:"primary"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",sm:"12",style:{"margin-top":"-20px"}},{default:o(()=>[de,e(r,{type:"password",placeholder:"Insira uma senha",variant:"outlined","hide-details":"",modelValue:f.value,"onUpdate:modelValue":t[10]||(t[10]=l=>f.value=l)},{"append-inner":o(()=>[e(p,{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis"})]),_:1},8,["modelValue"])]),_:1}),e(i,{cols:"12",sm:"12"},{default:o(()=>[re,e(r,{type:"password",placeholder:"Insira seu nome",variant:"outlined","hide-details":"",modelValue:v.value,"onUpdate:modelValue":t[11]||(t[11]=l=>v.value=l)},{"append-inner":o(()=>[e(p,{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis"})]),_:1},8,["modelValue"]),A.value?H("",!0):(C(),G(Y,{key:0,type:"error",dense:"",text:""},{default:o(()=>[u(" As senhas não são iguais. ")]),_:1}))]),_:1})]),_:1})]),_:1},512),n("div",ue,[e(F,null,{default:o(()=>[e(i,{cols:"12",sm:"6"},{default:o(()=>[e(z,{color:"error",to:"/auth/login",block:"",rounded:"pill",size:"large",class:"ml-auto"},{default:o(()=>[e(q,{"stroke-width":"2",size:"20",class:"mr-2"}),u(" Cancelar ")]),_:1})]),_:1}),e(i,{cols:"12",sm:"6"},{default:o(()=>[e(z,{color:"success",onClick:D,block:"",class:"",rounded:"pill",size:"large"},{default:o(()=>[e(M,{"stroke-width":"2",size:"20",class:"mr-2"}),u(" Salvar ")]),_:1})]),_:1})]),_:1})])])}}});export{Ue as _};
