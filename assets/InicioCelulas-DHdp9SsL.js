import{_ as pe}from"./UiParentCard.vue_vue_type_script_setup_true_lang-DyVhpud4.js";import{s as F,K as x,I as d,a2 as fe,J as _e,o as c,c as y,b as e,w as l,d as n,t as C,u as _,dj as ve,a as g,j as V,f as U,dk as ge,dl as be,E as he,d4 as Ve,F as z,H as se,r as xe,a7 as ye,dg as Ce,q as we}from"./index-BPobQcf8.js";import{S as qe}from"./sweetalert2.all-C5g5xaD8.js";import{V as Z}from"./VDialog-B7OEdKUR.js";import{a as ee,d as le,V as ke}from"./VCard-Cg9ckRLk.js";import{V as q}from"./VBtn-BVKmRoAw.js";import{V as Se}from"./VForm-BWtiIFZP.js";import{c as oe,V as ne,a as ue,b as re}from"./VExpansionPanel-w7zID-K3.js";import{V as m}from"./VRow-DWPNfaL_.js";import{V as o}from"./VCol-CW0NiawT.js";import{V as r}from"./VLabel-BS1-vsgA.js";import{V as ae}from"./VSelect-BTKPdsst.js";import{V as A}from"./VAutocomplete-CiIBYBVh.js";import{V as J}from"./VTextField-BfwMna9R.js";import{V as te}from"./VSpacer-xUEvX5Uw.js";import{V as j}from"./VProgressCircular-C-O9UiiN.js";import{B as Ne}from"./BaseBreadcrumb-D9IdzzQk.js";import"./VDivider-DX0LJa6l.js";import"./router-C1unnXd2.js";import"./useRender-CqrqjgKf.js";import"./VOverlay-C1_maF22.js";import"./forwardRefs-D3j0TLhE.js";import"./lazy-87wnqTzY.js";import"./transition-Bl_Bzqni.js";import"./dialog-transition-CXJXaFN2.js";import"./VAvatar-C19hyyBM.js";import"./group-D77XzSYv.js";import"./VInput-t_6lPND_.js";import"./index-BRNEmFu6.js";import"./VList-MvLMCY4C.js";import"./ssrBoot-CKc7fcmO.js";import"./VMenu-ByQMblwe.js";import"./resizeObserver-CcO_0xN9.js";import"./VCheckboxBtn-BM503oxf.js";import"./VSelectionControl-Djz9WnvS.js";import"./VChip-CjTW0viu.js";import"./VSlideGroup-Dl739hWQ.js";import"./filter-DV69mxWw.js";import"./VField-COVzCulh.js";const Ie=g("span",{class:"text-h5"},"Registrar Célula",-1),$e=g("br",null,null,-1),Be=g("br",null,null,-1),Ue=g("br",null,null,-1),Pe=g("br",null,null,-1),Re=g("div",{class:"d-flex"},null,-1),Ae={class:"d-flex",style:{"align-items":"baseline"}},je={key:0,style:{"font-size":"20px"}},ze={key:0,class:"ml-5"},Le={class:"pa-4 d-flex justify-end gap-2"},Oe=g("span",{class:"text-h5"},"Adicionar Novo Convidado(a)",-1),Te={key:0,class:"ml-5"},De={key:0,class:"ml-5"},Ee={class:"pa-4 d-flex justify-end gap-2"},Je={key:0,class:"ml-5"},Fe=F({__name:"HeaderCelula",setup(M){const u=se();ye(),Ce();const h=x({get:()=>u.state.grupos.grupo.nr_seq_lider,set:t=>u.state.grupos.grupo.nr_seq_lider=t}),S=x({get:()=>u.state.celulas.celula.quem_pregou,set:t=>u.state.celulas.celula.quem_pregou=t}),N=x({get:()=>u.state.celulas.celula.ofertas_voluntarias,set:t=>u.state.celulas.celula.ofertas_voluntarias=t}),b=x({get:()=>u.state.celulas.celula.obs_celula,set:t=>u.state.celulas.celula.obs_celula=t}),p=d([]),w=d(),L=x({get:()=>u.state.celulas.celula.nr_seq_grupo,set:t=>u.state.celulas.celula.nr_seq_grupo=t}),O=x({get:()=>u.state.celulas.celula.array_convidados,set:t=>u.state.celulas.celula.array_convidados=t}),H=x({get:()=>u.state.celulas.celula.membros_presentes,set:t=>u.state.celulas.celula.membros_presentes=t}),P=x({get:()=>u.state.celulas.celula.nr_seq_celula,set:t=>u.state.celulas.celula.nr_seq_celula=t}),W=d([]);var f=d([]);const i=d(!1),I=d(""),K=t=>{const a=t.target;I.value=a.value,f.value=[],i.value=!0,u.dispatch("pessoas/getListaPessoa",I.value).then(v=>{const s=v.data.listaPessoas.map(B=>({nr_sequencial:B.nr_sequencial,nome_pessoa:B.nome_pessoa}));f.value=s,i.value=!1}).catch(()=>{i.value=!1}),i.value=!1},Q=t=>{const a=t.target;I.value=a.value,f.value=[],i.value=!0,R.value=I.value,u.dispatch("pessoas/getListaPessoa",I.value).then(v=>{const s=v.data.listaPessoas.map(B=>({nr_sequencial:B.nr_sequencial,nome_pessoa:B.nome_pessoa}));f.value=s,i.value=!1}).catch(()=>{i.value=!1}),i.value=!1};function ie(t){return console.log(t),`${X(t.dias_semana)} - ${t.horario} - ${t.sexo_participantes}`}function de(t){return`${t.nome_pessoa}`}fe(()=>{const t=localStorage.getItem("user");if(t){const a=JSON.parse(t);console.log(a);const v={nr_sequencial:a.user.nr_sequencial,nome_pessoa:a.user.nome_pessoa};f.value.push(v),h.value=a.user.nr_sequencial,G()}});function G(){u.dispatch("celulas/getCelulasLider",h.value).then(t=>{p.value=t.data,w.value=p.value,console.log(w.value)})}_e(P,t=>{t&&T(t)});function T(t){var v;const a=((v=t[0])==null?void 0:v.nr_sequencial)??P.value.nr_sequencial;u.dispatch("celulas/buscaMembros",a).then(s=>{W.value=s.data.membros_celula}),L.value=a}function X(t){if(t)try{const a=JSON.parse(t);return Array.isArray(a)?JSON.stringify(a).replace(/[\[\]]/g,"").replace(/"/g,""):"Sem informação"}catch{return"Sem informação"}else return"Sem dias disponíveis"}function me(){u.dispatch("celulas/finalizarCelula").then(()=>{qe.fire({title:"Sucesso!",text:"Célula registrada com sucesso!",icon:"success"}),k.value=!1,T(w.value)})}const k=d(!1),$=d(!1),R=d(""),D=d(""),E=d(""),Y=d(!1);function ce(){const t={nome_convidado:R.value,whatsapp_convidado:D.value,quem_convidou:E.value};if(console.log(t),!t.nome_convidado||!t.whatsapp_convidado||!t.quem_convidou)return!1;O.value.push(t),$.value=!1}return(t,a)=>{const v=xe("PlusIcon");return c(),y(z,null,[e(o,{cols:"12",lg:"12",md:"12",class:"text-right"},{default:l(()=>[e(Z,{modelValue:k.value,"onUpdate:modelValue":a[9]||(a[9]=s=>k.value=s),"max-width":"700"},{default:l(()=>[e(ee,null,{default:l(()=>[e(le,{class:"px-4 pt-6 justify-space-between d-flex align-center"},{default:l(()=>[Ie,e(q,{onClick:a[0]||(a[0]=s=>k.value=!1),ripple:!1,density:"compact",icon:"mdi-close"})]),_:1}),e(ke,{class:"px-4"},{default:l(()=>[e(Se,{class:"dialog_form",ref:"form",modelValue:Y.value,"onUpdate:modelValue":a[1]||(a[1]=s=>Y.value=s),"lazy-validation":""},{default:l(()=>[e(oe,null,{default:l(()=>[e(ne,{elevation:"10"},{default:l(()=>[e(ue,{class:"text-h6"},{default:l(()=>[n("Detalhes")]),_:1}),e(re,{class:"mt-4"},{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12",md:"6"},{default:l(()=>[e(m,{class:"align-center mb-6"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Dias da Semana:")]),_:1}),$e,e(r,{class:"font-weight-light",for:"clnm"},{default:l(()=>[n(C(X(p.value[0].dias_semana)),1)]),_:1})]),_:1})]),_:1}),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Classificação:")]),_:1}),Be,e(r,{class:"font-weight-light",for:"clnm"},{default:l(()=>[n(C(p.value[0].tipo_grupo),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{cols:"12",md:"6"},{default:l(()=>[e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Horário:")]),_:1}),Ue,e(r,{class:"font-weight-light",for:"clnm"},{default:l(()=>[n(C(p.value[0].horario),1)]),_:1})]),_:1})]),_:1}),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Sexo Participantes:")]),_:1}),Pe,e(r,{class:"font-weight-light",for:"clnm"},{default:l(()=>[n(C(p.value[0].sexo_participantes),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",md:"12"},{default:l(()=>[Re]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:"12",lg:"12",md:"12",class:"text-right"},{default:l(()=>[e(m,{style:{padding:"10px"}},{default:l(()=>[e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Selecione as pessoas presentes:")]),_:1}),e(ae,{modelValue:H.value,"onUpdate:modelValue":a[2]||(a[2]=s=>H.value=s),label:"Selecione as pessoas presentes",multiple:"",items:W.value,"item-title":de,"item-value":"abbr","return-object":"","single-line":"",variant:"outlined","hide-details":"",id:"vfcntry"},{"prepend-inner":l(()=>[e(_(ve),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue","items"]),g("div",Ae,[e(q,{color:"primary",class:"mt-sm-3 mt-3 mr-5",flat:"",onClick:a[3]||(a[3]=s=>$.value=!0)},{default:l(()=>[e(v,{class:"mr-1"}),n(" Novo Convidado ")]),_:1}),O.value.length>0?(c(),y("span",je,"+ "+C(O.value.length),1)):V("",!0)])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Selecione quem pregou:")]),_:1}),e(A,{modelValue:S.value,"onUpdate:modelValue":a[4]||(a[4]=s=>S.value=s),label:"Buscar Nome",items:_(f),color:"primary",variant:"outlined","hide-details":"",onInput:Q,"item-title":"nome_pessoa","item-value":"nr_sequencial",loading:i.value},{"append-item":l(()=>[i.value?(c(),U(j,{key:0,class:"ml-5",indeterminate:"",color:"primary"})):V("",!0)]),"no-data":l(()=>[!i.value&&_(f).length===0?(c(),y("div",ze,"Nenhum dado encontrado")):V("",!0)]),_:1},8,["modelValue","items","loading"])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Valor das ofertas:")]),_:1}),e(J,{modelValue:N.value,"onUpdate:modelValue":a[5]||(a[5]=s=>N.value=s),variant:"outlined",placeholder:"R$",id:"fctime",type:"text",color:"primary"},{"prepend-inner":l(()=>[e(_(ge),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Observação:")]),_:1}),e(J,{modelValue:b.value,"onUpdate:modelValue":a[6]||(a[6]=s=>b.value=s),variant:"outlined",placeholder:"Observação",id:"fctime",type:"text",color:"primary"},{"prepend-inner":l(()=>[e(_(be),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),g("div",Le,[e(te),e(q,{color:"error",onClick:a[7]||(a[7]=s=>k.value=!1),class:"px-3 rounded-pill"},{default:l(()=>[n("Cancelar")]),_:1}),e(q,{color:"primary",class:"px-3 rounded-pill",onClick:a[8]||(a[8]=s=>me())},{default:l(()=>[n("Registrar Célula")]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:"12",lg:"12",md:"12",class:"text-right"},{default:l(()=>[e(Z,{modelValue:$.value,"onUpdate:modelValue":a[16]||(a[16]=s=>$.value=s),"max-width":"700"},{default:l(()=>[e(ee,null,{default:l(()=>[e(le,{class:"px-4 pt-6 justify-space-between d-flex align-center"},{default:l(()=>[Oe,e(q,{onClick:a[10]||(a[10]=s=>k.value=!1),ripple:!1,density:"compact",icon:"mdi-close"})]),_:1}),e(o,{cols:"12",lg:"12",md:"12",class:"text-right"},{default:l(()=>[e(m,{style:{padding:"10px"}},{default:l(()=>[e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-0 font-weight-medium"},{default:l(()=>[n("Nome:")]),_:1}),e(A,{modelValue:R.value,"onUpdate:modelValue":a[11]||(a[11]=s=>R.value=s),label:"Buscar Nome",items:_(f),color:"primary",variant:"outlined","hide-details":"",onInput:Q,"item-title":"nome_pessoa","item-value":"nr_sequencial",loading:i.value},{"append-item":l(()=>[i.value?(c(),U(j,{key:0,class:"ml-5",indeterminate:"",color:"primary"})):V("",!0)]),"no-data":l(()=>[!i.value&&_(f).length===0?(c(),y("div",Te,"Nenhum dado encontrado")):V("",!0)]),_:1},8,["modelValue","items","loading"])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("WhatsApp:")]),_:1}),e(J,{modelValue:D.value,"onUpdate:modelValue":a[12]||(a[12]=s=>D.value=s),variant:"outlined",placeholder:"WhatsApp",id:"fctime",type:"text",color:"primary"},{"prepend-inner":l(()=>[e(_(he),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:"12",lg:"12",md:"6",class:"text-left"},{default:l(()=>[e(r,{class:"mb-2 font-weight-medium"},{default:l(()=>[n("Quem Convidou?:")]),_:1}),e(A,{modelValue:E.value,"onUpdate:modelValue":a[13]||(a[13]=s=>E.value=s),label:"Buscar Nome",items:_(f),color:"primary",variant:"outlined","hide-details":"",onInput:K,"item-title":"nome_pessoa","item-value":"nr_sequencial",loading:i.value},{"append-item":l(()=>[i.value?(c(),U(j,{key:0,class:"ml-5",indeterminate:"",color:"primary"})):V("",!0)]),"no-data":l(()=>[!i.value&&_(f).length===0?(c(),y("div",De,"Nenhum dado encontrado")):V("",!0)]),_:1},8,["modelValue","items","loading"])]),_:1})]),_:1})]),_:1}),g("div",Ee,[e(te),e(q,{color:"error",onClick:a[14]||(a[14]=s=>$.value=!1),class:"px-3 rounded-pill"},{default:l(()=>[n("Cancelar")]),_:1}),e(q,{color:"primary",class:"px-3 rounded-pill",onClick:a[15]||(a[15]=s=>ce())},{default:l(()=>[n("Adicionar Convidado")]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"12"},{default:l(()=>[e(A,{modelValue:h.value,"onUpdate:modelValue":a[17]||(a[17]=s=>h.value=s),label:"Buscar Líder da Célula",items:_(f),color:"primary",variant:"outlined","hide-details":"",onInput:K,onChange:G,"item-title":"nome_pessoa","item-value":"nr_sequencial",loading:i.value},{"append-item":l(()=>[i.value?(c(),U(j,{key:0,class:"ml-5",indeterminate:"",color:"primary"})):V("",!0)]),"no-data":l(()=>[!i.value&&_(f).length===0?(c(),y("div",Je,"Nenhum dado encontrado")):V("",!0)]),_:1},8,["modelValue","items","loading"])]),_:1})]),_:1}),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"9"},{default:l(()=>[e(ae,{modelValue:P.value,"onUpdate:modelValue":a[18]||(a[18]=s=>P.value=s),label:"Suas Células",items:p.value,"item-title":ie,"item-value":"abbr","return-object":"","single-line":"",variant:"outlined",onChange:T,"hide-details":"",id:"vfcntry"},{"prepend-inner":l(()=>[e(_(Ve),{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis mr-3"})]),_:1},8,["modelValue","items"])]),_:1}),e(o,{cols:"12",sm:"3"},{default:l(()=>[e(q,{color:"primary",class:"mt-sm-0 mt-3",flat:"",onClick:a[19]||(a[19]=s=>k.value=!0)},{default:l(()=>[e(v,{class:"mr-1"}),n(" Registrar Célula ")]),_:1})]),_:1})]),_:1})],64)}}}),Me=g("h5",{class:"text-h5 mb-6 mt-3"},"Dados Célula",-1),He=F({__name:"CollapsibleCelulas",setup(M){const u=se();d("1"),d("1"),d("1");const h=x({get:()=>u.state.celulas.dadosCelula,set:b=>u.state.celulas.dadosCelula=b});function S(b){if(b)try{const p=JSON.parse(b);return Array.isArray(p)?JSON.stringify(p).replace(/[\[\]]/g,"").replace(/"/g,""):"Sem informação"}catch{return"Sem informação"}else return"Sem dias disponíveis"}console.log(h);const N=b=>new Date(b).toLocaleString("pt-BR");return(b,p)=>(c(),y(z,null,[Me,e(oe,null,{default:l(()=>[(c(!0),y(z,null,we(h.value,(w,L)=>(c(),U(ne,{elevation:"10",class:"mb-3",key:L},{default:l(()=>[e(ue,{class:"text-h6"},{default:l(()=>[n(C(N(w.data_celula))+" - "+C(S(w.dias_semana)),1)]),_:2},1024),e(re,{class:"mt-4"},{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12",md:"6"},{default:l(()=>[e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Total Pessoas:")]),_:1})]),_:1}),e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-bold",for:"clnm"},{default:l(()=>[n("12")]),_:1})]),_:1})]),_:1}),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Ofertas Voluntárias:")]),_:1})]),_:1}),e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-bold",for:"clnm"},{default:l(()=>[n("R$ "+C(w.ofertas_voluntarias),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(m,{class:"align-center mb-3"},{default:l(()=>[e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-medium",for:"clnm"},{default:l(()=>[n("Observação:")]),_:1})]),_:1}),e(o,{cols:"12",sm:"3",class:"pb-sm-3 pb-0 text-left"},{default:l(()=>[e(r,{class:"font-weight-bold",for:"clnm"},{default:l(()=>[n("R$ "+C(w.obs_celula),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})],64))}}),Ul=F({__name:"InicioCelulas",setup(M){const u=d({title:"Registrar Célula"}),h=d([{text:"Início",disabled:!1,href:"#"},{text:"Registrar Célula",disabled:!0,href:"#"}]);return d(null),(S,N)=>(c(),y(z,null,[e(Ne,{title:u.value.title,breadcrumbs:h.value},null,8,["title","breadcrumbs"]),e(m,null,{default:l(()=>[e(o,{cols:"12",md:"12"},{default:l(()=>[e(pe,{title:"Relatório semanal de grupos"},{default:l(()=>[e(Fe)]),_:1})]),_:1}),e(o,{cols:"12"},{default:l(()=>[e(He)]),_:1})]),_:1})],64))}});export{Ul as default};
