import{s as v,P as p,B as g,o as f,c as w,b as e,w as t,a as i,f as k,d,j as y,D as S,r as b,H as C,I as B}from"./index-K9Cw3qAM.js";import{S as I}from"./sweetalert2.all-BAPrxpkJ.js";import{L as z}from"./Logo-DqpvxF-x.js";import{a as L,V as c}from"./VRow-BE1tVTDO.js";import{V as N,c as R}from"./VCard-BXo_fafT.js";import{V as T}from"./VForm-D2UYRSZM.js";import{V as h}from"./VTextField-B1SYHVXl.js";import{V as j}from"./VAlert-CFio3tU5.js";import{V as _}from"./VBtn-CEYTkiu0.js";import{V as F}from"./VContainer-BNX-gYfJ.js";import"./customizer-DMPRMc9z.js";import"./useRender-JMec0ULL.js";import"./router-DbKbb5QO.js";import"./VAvatar-Br8LL6BL.js";import"./transition-BMmWZRVj.js";import"./VInput-DvgumJtA.js";import"./index-tDKoJ95C.js";import"./forwardRefs-D3j0TLhE.js";import"./VField-ByqdRaCD.js";import"./VLabel-TGq7J45F.js";import"./group-BNrpxWeM.js";import"./VProgressCircular-J0hJZAlH.js";import"./resizeObserver-D0Jr_c1Z.js";const P={class:"authentication"},A={class:"boxed-auth-wrap"},U={class:"d-flex justify-center my-5"},D=i("p",{class:"text-subtitle-1 text-grey100 text-center text-10"}," Por favor, entre com sua nova senha para seu usuário ",-1),E=i("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Senha:",-1),H=i("div",{class:"mb-2 font-weight-medium text-subtitle-1"},"Confirmar senha:",-1),pe=v({__name:"BoxedForgotPassword",setup(q){const u=C(),l=S();B();const n=p({get:()=>l.state.pessoas.pessoa.senha,set:s=>l.state.pessoas.pessoa.senha=s}),m=g(""),x=p(()=>n.value==m.value);function V(){const s=u.params.token,o=u.params.email,a=n.value;if(console.log(s),console.log(o),console.log(a),s.length!==60)return"Token deve ter exatamente 60 caracteres.";const r={email:o,novaSenha:a,token:s};l.dispatch("user/redefinirSenha",r).then(G=>{I.fire({title:"Sucesso!",text:"Senha redefinida!",icon:"success",timer:3e3}),setTimeout(()=>{window.location.href="/auth/login"},3e3)})}return(s,o)=>{const a=b("LockIcon");return f(),w("div",P,[e(F,{fluid:"",class:"pa-3"},{default:t(()=>[e(L,{class:"h-100vh d-flex justify-center align-center"},{default:t(()=>[e(c,{cols:"12",lg:"4",xl:"5",class:"d-flex align-center"},{default:t(()=>[i("div",A,[e(N,{elevation:"10",class:"px-sm-1 px-0 mx-auto index-2","max-width":"450"},{default:t(()=>[e(R,{class:"pa-sm-8"},{default:t(()=>[i("div",U,[e(z)]),D,e(T,{ref:"form","lazy-validation":"",class:"mt-sm-13 mt-8"},{default:t(()=>[e(c,{cols:"12",sm:"12",style:{"margin-top":"-20px"}},{default:t(()=>[E,e(h,{type:"password",placeholder:"Insira uma senha",variant:"outlined","hide-details":"",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=r=>n.value=r)},{"append-inner":t(()=>[e(a,{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis"})]),_:1},8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"12"},{default:t(()=>[H,e(h,{type:"password",placeholder:"Insira seu nome",variant:"outlined","hide-details":"",modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=r=>m.value=r)},{"append-inner":t(()=>[e(a,{"stroke-width":"1.5",size:"22",class:"text-medium-emphasis"})]),_:1},8,["modelValue"]),x.value?y("",!0):(f(),k(j,{key:0,type:"error",dense:"",text:""},{default:t(()=>[d(" As senhas não são iguais. ")]),_:1}))]),_:1})]),_:1},512),e(_,{size:"large",color:"primary",block:"",submit:"",rounded:"pill",onClick:V},{default:t(()=>[d("Redefinir Senha")]),_:1}),e(_,{size:"large",color:"lightprimary",to:"/auth/login",block:"",class:"mt-5 text-primary",rounded:"pill"},{default:t(()=>[d("Voltar ao Login")]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})])}}});export{pe as default};
